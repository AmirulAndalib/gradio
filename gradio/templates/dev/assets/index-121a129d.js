import{SvelteComponentDev as be,init as we,safe_not_equal as se,dispatch_dev as v,validate_store as rn,component_subscribe as sn,validate_slots as ke,createEventDispatcher as oe,onMount as ye,globals as ot,element as T,space as z,attr_dev as p,toggle_class as M,add_location as H,insert_dev as I,append_dev as ne,transition_in as b,group_outros as X,transition_out as k,check_outros as A,detach_dev as E,binding_callbacks as L,listen_dev as Z,is_function as cn,create_component as P,mount_component as R,noop as $,destroy_component as B,empty as ce,flush as C,src_url_equal as F,to_number as ln,set_input_value as Pe,run_all as an,tick as pe,add_render_callback as un,add_iframe_resize_listener as fn,bubble as mn,bind as ie,add_flush_callback as re,create_slot as dn,update_slot_base as hn,get_all_dirty_from_scope as _n,get_slot_changes as gn,assign as bn,get_spread_update as wn,get_spread_object as kn}from"../../../node/dev/svelte-internal.js";import{X as Ee,S as it}from"./index-0c627992.js";import{C as rt,a as st,S as ct,E as lt,B as at,b as ut,c as We}from"./Square-918cc650.js";import{n as tt,B as ft}from"./Button-9bfe2272.js";import{B as mt}from"./BlockLabel-f45b05bb.js";import{I as Me}from"./Image-68e8a471.js";import{g as nt}from"./utils-90f3612b.js";import{I as fe}from"./IconButton-559a7ff4.js";import{C as dt,M as Se}from"./ModifyUpload-33dea6b2.js";import{U as ht}from"./Undo-842db9b1.js";import{U as _t}from"./Upload-29fdce3c.js";import{U as gt}from"./UploadText-6d1bc184.js";const{console:Ce}=ot,ge="Users/peterallen/Projects/gradio/js/gradio-preview/test/imageslider/frontend/interactive/Webcam.svelte";function Ne(t){let e,n,i,u,o,s;const c=[wt,bt],r=[];function l(f,d){return f[1]==="video"?0:1}n=l(t),i=r[n]=c[n](t);const a={c:function(){e=T("button"),i.c(),p(e,"class","svelte-1cyu66t"),H(e,ge,131,2,3205)},m:function(d,_){I(d,e,_),r[n].m(e,null),u=!0,o||(s=Z(e,"click",function(){cn(t[1]==="image"?t[5]:t[6])&&(t[1]==="image"?t[5]:t[6]).apply(this,arguments)},!1,!1,!1,!1),o=!0)},p:function(d,_){t=d;let S=n;n=l(t),n===S?r[n].p(t,_):(X(),k(r[S],1,1,()=>{r[S]=null}),A(),i=r[n],i?i.p(t,_):(i=r[n]=c[n](t),i.c()),b(i,1),i.m(e,null))},i:function(d){u||(b(i),u=!0)},o:function(d){k(i),u=!1},d:function(d){d&&E(e),r[n].d(),o=!1,s()}};return v("SvelteRegisterBlock",{block:a,id:Ne.name,type:"if",source:"(102:1) {#if !streaming}",ctx:t}),a}function bt(t){let e,n,i;n=new rt({$$inline:!0});const u={c:function(){e=T("div"),P(n.$$.fragment),p(e,"class","icon svelte-1cyu66t"),H(e,ge,143,4,3463)},m:function(s,c){I(s,e,c),R(n,e,null),i=!0},p:$,i:function(s){i||(b(n.$$.fragment,s),i=!0)},o:function(s){k(n.$$.fragment,s),i=!1},d:function(s){s&&E(e),B(n)}};return v("SvelteRegisterBlock",{block:u,id:bt.name,type:"else",source:"(114:3) {:else}",ctx:t}),u}function wt(t){let e,n,i,u;const o=[pt,kt],s=[];function c(l,a){return l[4]?0:1}e=c(t),n=s[e]=o[e](t);const r={c:function(){n.c(),i=ce()},m:function(a,f){s[e].m(a,f),I(a,i,f),u=!0},p:function(a,f){let d=e;e=c(a),e!==d&&(X(),k(s[d],1,1,()=>{s[d]=null}),A(),n=s[e],n||(n=s[e]=o[e](a),n.c()),b(n,1),n.m(i.parentNode,i))},i:function(a){u||(b(n),u=!0)},o:function(a){k(n),u=!1},d:function(a){a&&E(i),s[e].d(a)}};return v("SvelteRegisterBlock",{block:r,id:wt.name,type:"if",source:'(104:3) {#if mode === \\"video\\"}',ctx:t}),r}function kt(t){let e,n,i;n=new st({$$inline:!0});const u={c:function(){e=T("div"),P(n.$$.fragment),p(e,"class","icon svelte-1cyu66t"),H(e,ge,138,5,3390)},m:function(s,c){I(s,e,c),R(n,e,null),i=!0},i:function(s){i||(b(n.$$.fragment,s),i=!0)},o:function(s){k(n.$$.fragment,s),i=!1},d:function(s){s&&E(e),B(n)}};return v("SvelteRegisterBlock",{block:u,id:kt.name,type:"else",source:"(109:4) {:else}",ctx:t}),u}function pt(t){let e,n,i;n=new ct({$$inline:!0});const u={c:function(){e=T("div"),P(n.$$.fragment),p(e,"class","icon svelte-1cyu66t"),H(e,ge,134,5,3325)},m:function(s,c){I(s,e,c),R(n,e,null),i=!0},i:function(s){i||(b(n.$$.fragment,s),i=!0)},o:function(s){k(n.$$.fragment,s),i=!1},d:function(s){s&&E(e),B(n)}};return v("SvelteRegisterBlock",{block:u,id:pt.name,type:"if",source:"(105:4) {#if recording}",ctx:t}),u}function Ue(t){let e,n,i,u,o=!t[0]&&Ne(t);const s={c:function(){e=T("div"),n=T("video"),i=z(),o&&o.c(),p(n,"class","svelte-1cyu66t"),M(n,"flip",t[2]),H(n,ge,129,1,3123),p(e,"class","wrap svelte-1cyu66t"),H(e,ge,127,0,3056)},l:function(r){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,l){I(r,e,l),ne(e,n),t[9](n),ne(e,i),o&&o.m(e,null),u=!0},p:function(r,[l]){(!u||l&4)&&M(n,"flip",r[2]),r[0]?o&&(X(),k(o,1,1,()=>{o=null}),A()):o?(o.p(r,l),l&1&&b(o,1)):(o=Ne(r),o.c(),b(o,1),o.m(e,null))},i:function(r){u||(b(o),u=!0)},o:function(r){k(o),u=!1},d:function(r){r&&E(e),t[9](null),o&&o.d()}};return v("SvelteRegisterBlock",{block:s,id:Ue.name,type:"component",source:"",ctx:t}),s}function pn(t,e,n){let i;rn(Ee,"_"),sn(t,Ee,g=>n(15,i=g));let{$$slots:u={},$$scope:o}=e;ke("Webcam",u,[]);let s,c,{streaming:r=!1}=e,{pending:l=!1}=e,{mode:a="image"}=e,{mirror_webcam:f}=e,{include_audio:d}=e;const _=oe();ye(()=>c=document.createElement("canvas"));async function S(){try{U=await navigator.mediaDevices.getUserMedia({video:!0,audio:d}),n(3,s.srcObject=U,s),n(3,s.muted=!0,s),s.play()}catch(g){if(g instanceof DOMException&&g.name=="NotAllowedError")_("error",i("image.allow_webcam_access"));else throw g}}function y(){var g=c.getContext("2d");if(s.videoWidth&&s.videoHeight){c.width=s.videoWidth,c.height=s.videoHeight,g.drawImage(s,0,0,s.videoWidth,s.videoHeight);var N=c.toDataURL("image/png");_(r?"stream":"capture",N)}}let W=!1,D=[],U,w,j;function G(){if(W){j.stop();let g=new Blob(D,{type:w}),N=new FileReader;N.onload=function(O){O.target&&(_("capture",{data:O.target.result,name:"sample."+w.substring(6),is_example:!1,is_file:!1}),_("stop_recording"))},N.readAsDataURL(g)}else{_("start_recording"),D=[];let g=["video/webm","video/mp4"];for(let N of g)if(MediaRecorder.isTypeSupported(N)){w=N;break}if(w===null){console.error("No supported MediaRecorder mimeType");return}j=new MediaRecorder(U,{mimeType:w}),j.addEventListener("dataavailable",function(N){D.push(N.data)}),j.start(200)}n(4,W=!W)}S(),r&&a==="image"&&window.setInterval(()=>{s&&!l&&y()},500),t.$$.on_mount.push(function(){f===void 0&&!("mirror_webcam"in e||t.$$.bound[t.$$.props.mirror_webcam])&&Ce.warn("<Webcam> was created without expected prop 'mirror_webcam'"),d===void 0&&!("include_audio"in e||t.$$.bound[t.$$.props.include_audio])&&Ce.warn("<Webcam> was created without expected prop 'include_audio'")});const J=["streaming","pending","mode","mirror_webcam","include_audio"];Object.keys(e).forEach(g=>{!~J.indexOf(g)&&g.slice(0,2)!=="$$"&&g!=="slot"&&Ce.warn(`<Webcam> was created with unknown prop '${g}'`)});function K(g){L[g?"unshift":"push"](()=>{s=g,n(3,s)})}return t.$$set=g=>{"streaming"in g&&n(0,r=g.streaming),"pending"in g&&n(7,l=g.pending),"mode"in g&&n(1,a=g.mode),"mirror_webcam"in g&&n(2,f=g.mirror_webcam),"include_audio"in g&&n(8,d=g.include_audio)},t.$capture_state=()=>({createEventDispatcher:oe,onMount:ye,Camera:rt,Circle:st,Square:ct,_:Ee,video_source:s,canvas:c,streaming:r,pending:l,mode:a,mirror_webcam:f,include_audio:d,dispatch:_,access_webcam:S,take_picture:y,recording:W,recorded_blobs:D,stream:U,mimeType:w,media_recorder:j,take_recording:G,$_:i}),t.$inject_state=g=>{"video_source"in g&&n(3,s=g.video_source),"canvas"in g&&(c=g.canvas),"streaming"in g&&n(0,r=g.streaming),"pending"in g&&n(7,l=g.pending),"mode"in g&&n(1,a=g.mode),"mirror_webcam"in g&&n(2,f=g.mirror_webcam),"include_audio"in g&&n(8,d=g.include_audio),"recording"in g&&n(4,W=g.recording),"recorded_blobs"in g&&(D=g.recorded_blobs),"stream"in g&&(U=g.stream),"mimeType"in g&&(w=g.mimeType),"media_recorder"in g&&(j=g.media_recorder)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[r,a,f,s,W,y,G,l,d,K]}class yn extends be{constructor(e){super(e),we(this,e,pn,Ue,se,{streaming:0,pending:7,mode:1,mirror_webcam:2,include_audio:8}),v("SvelteRegisterComponent",{component:this,tagName:"Webcam",options:e,id:Ue.name})}get streaming(){throw new Error("<Webcam>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set streaming(e){throw new Error("<Webcam>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pending(){throw new Error("<Webcam>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pending(e){throw new Error("<Webcam>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mode(){throw new Error("<Webcam>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mode(e){throw new Error("<Webcam>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mirror_webcam(){throw new Error("<Webcam>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mirror_webcam(e){throw new Error("<Webcam>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get include_audio(){throw new Error("<Webcam>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set include_audio(e){throw new Error("<Webcam>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const yt=yn,vn="Users/peterallen/Projects/gradio/js/gradio-preview/test/imageslider/frontend/interactive/Cropper.svelte";function Oe(t){let e,n;const i={c:function(){e=T("img"),F(e.src,n=t[0])||p(e,"src",n),p(e,"alt",""),H(e,vn,32,0,630)},l:function(o){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,s){I(o,e,s),t[4](e)},p:function(o,[s]){s&1&&!F(e.src,n=o[0])&&p(e,"src",n)},i:$,o:$,d:function(o){o&&E(e),t[4](null)}};return v("SvelteRegisterBlock",{block:i,id:Oe.name,type:"component",source:"",ctx:t}),i}function Te(){}function Sn(t,e,n){let{$$slots:i={},$$scope:u}=e;ke("Cropper",i,[]);let{image:o}=e,s;const c=oe();function r(){c("crop",o)}t.$$.on_mount.push(function(){o===void 0&&!("image"in e||t.$$.bound[t.$$.props.image])&&console.warn("<Cropper> was created without expected prop 'image'")});const l=["image"];Object.keys(e).forEach(f=>{!~l.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<Cropper> was created with unknown prop '${f}'`)});function a(f){L[f?"unshift":"push"](()=>{s=f,n(1,s)})}return t.$$set=f=>{"image"in f&&n(0,o=f.image)},t.$capture_state=()=>({onMount:ye,createEventDispatcher:oe,image:o,el:s,dispatch:c,destroy:Te,create:r}),t.$inject_state=f=>{"image"in f&&n(0,o=f.image),"el"in f&&n(1,s=f.el)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[o,s,Te,r,a]}class et extends be{constructor(e){super(e),we(this,e,Sn,Oe,se,{image:0,destroy:2,create:3}),v("SvelteRegisterComponent",{component:this,tagName:"Cropper",options:e,id:Oe.name})}get image(){return this.$$.ctx[0]}set image(e){this.$$set({image:e}),C()}get destroy(){return Te}set destroy(e){throw new Error("<Cropper>: Cannot set read-only property 'destroy'")}get create(){return this.$$.ctx[3]}set create(e){throw new Error("<Cropper>: Cannot set read-only property 'create'")}}const In="Users/peterallen/Projects/gradio/js/gradio-preview/test/imageslider/frontend/interactive/ModifySketch.svelte";function He(t){let e,n;e=new fe({props:{Icon:lt,label:"Clear"},$$inline:!0}),e.$on("click",t[3]);const i={c:function(){P(e.$$.fragment)},m:function(o,s){R(e,o,s),n=!0},p:$,i:function(o){n||(b(e.$$.fragment,o),n=!0)},o:function(o){k(e.$$.fragment,o),n=!1},d:function(o){B(e,o)}};return v("SvelteRegisterBlock",{block:i,id:He.name,type:"if",source:"(11:1) {#if show_eraser}",ctx:t}),i}function De(t){let e,n,i,u,o,s;n=new fe({props:{Icon:ht,label:"Undo"},$$inline:!0}),n.$on("click",t[2]);let c=t[0]&&He(t);o=new fe({props:{Icon:dt,label:"Remove Image"},$$inline:!0}),o.$on("click",t[4]);const r={c:function(){e=T("div"),P(n.$$.fragment),i=z(),c&&c.c(),u=z(),P(o.$$.fragment),p(e,"class","svelte-1g74h68"),H(e,In,10,0,261)},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,f){I(a,e,f),R(n,e,null),ne(e,i),c&&c.m(e,null),ne(e,u),R(o,e,null),s=!0},p:function(a,[f]){a[0]?c?(c.p(a,f),f&1&&b(c,1)):(c=He(a),c.c(),b(c,1),c.m(e,u)):c&&(X(),k(c,1,1,()=>{c=null}),A())},i:function(a){s||(b(n.$$.fragment,a),b(c),b(o.$$.fragment,a),s=!0)},o:function(a){k(n.$$.fragment,a),k(c),k(o.$$.fragment,a),s=!1},d:function(a){a&&E(e),B(n),c&&c.d(),B(o)}};return v("SvelteRegisterBlock",{block:r,id:De.name,type:"component",source:"",ctx:t}),r}function En(t,e,n){let{$$slots:i={},$$scope:u}=e;ke("ModifySketch",i,[]);const o=oe();let{show_eraser:s=!1}=e;const c=["show_eraser"];Object.keys(e).forEach(f=>{!~c.indexOf(f)&&f.slice(0,2)!=="$$"&&f!=="slot"&&console.warn(`<ModifySketch> was created with unknown prop '${f}'`)});const r=()=>o("undo"),l=f=>{o("clear_mask"),f.stopPropagation()},a=f=>{o("remove_image"),f.stopPropagation()};return t.$$set=f=>{"show_eraser"in f&&n(0,s=f.show_eraser)},t.$capture_state=()=>({createEventDispatcher:oe,IconButton:fe,Undo:ht,Clear:dt,Erase:lt,dispatch:o,show_eraser:s}),t.$inject_state=f=>{"show_eraser"in f&&n(0,s=f.show_eraser)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[s,o,r,l,a]}class Re extends be{constructor(e){super(e),we(this,e,En,De,se,{show_eraser:0}),v("SvelteRegisterComponent",{component:this,tagName:"ModifySketch",options:e,id:De.name})}get show_eraser(){throw new Error("<ModifySketch>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show_eraser(e){throw new Error("<ModifySketch>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const ve="Users/peterallen/Projects/gradio/js/gradio-preview/test/imageslider/frontend/interactive/SketchSettings.svelte";function ze(t){let e,n,i,u,o;const s={c:function(){e=T("input"),p(e,"aria-label","Brush radius"),p(e,"type","range"),p(e,"min",n=.5*(t[2]/t[6])),p(e,"max",i=75*(t[2]/t[6])),p(e,"class","svelte-1hdlygn"),H(e,ve,25,3,561)},m:function(r,l){I(r,e,l),Pe(e,t[0]),u||(o=[Z(e,"change",t[10]),Z(e,"input",t[10])],u=!0)},p:function(r,l){l&68&&n!==(n=.5*(r[2]/r[6]))&&p(e,"min",n),l&68&&i!==(i=75*(r[2]/r[6]))&&p(e,"max",i),l&1&&Pe(e,r[0])},d:function(r){r&&E(e),u=!1,an(o)}};return v("SvelteRegisterBlock",{block:s,id:ze.name,type:"if",source:"(21:2) {#if show_size}",ctx:t}),s}function qe(t){let e,n,i,u;n=new fe({props:{Icon:ut,label:"Select brush color"},$$inline:!0}),n.$on("click",t[11]);let o=t[5]&&Le(t);const s={c:function(){e=T("span"),P(n.$$.fragment),i=z(),o&&o.c(),p(e,"class","col svelte-1hdlygn"),H(e,ve,36,2,765)},m:function(r,l){I(r,e,l),R(n,e,null),ne(e,i),o&&o.m(e,null),u=!0},p:function(r,l){r[5]?o?o.p(r,l):(o=Le(r),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i:function(r){u||(b(n.$$.fragment,r),u=!0)},o:function(r){k(n.$$.fragment,r),u=!1},d:function(r){r&&E(e),B(n),o&&o.d()}};return v("SvelteRegisterBlock",{block:s,id:qe.name,type:"if",source:'(32:1) {#if mode !== \\"mask\\"}',ctx:t}),s}function Le(t){let e,n,i;const u={c:function(){e=T("input"),p(e,"aria-label","Brush color"),p(e,"type","color"),p(e,"class","svelte-1hdlygn"),H(e,ve,43,4,919)},m:function(s,c){I(s,e,c),Pe(e,t[1]),n||(i=Z(e,"input",t[12]),n=!0)},p:function(s,c){c&2&&Pe(e,s[1])},d:function(s){s&&E(e),n=!1,i()}};return v("SvelteRegisterBlock",{block:u,id:Le.name,type:"if",source:"(39:3) {#if show_col}",ctx:t}),u}function Fe(t){let e,n,i,u,o,s;i=new fe({props:{Icon:at,label:"Use brush"},$$inline:!0}),i.$on("click",t[9]);let c=t[4]&&ze(t),r=t[3]!=="mask"&&qe(t);const l={c:function(){e=T("div"),n=T("span"),P(i.$$.fragment),u=z(),c&&c.c(),o=z(),r&&r.c(),p(n,"class","brush svelte-1hdlygn"),H(n,ve,18,1,418),p(e,"class","wrap svelte-1hdlygn"),H(e,ve,17,0,398)},l:function(f){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(f,d){I(f,e,d),ne(e,n),R(i,n,null),ne(n,u),c&&c.m(n,null),ne(e,o),r&&r.m(e,null),s=!0},p:function(f,[d]){f[4]?c?c.p(f,d):(c=ze(f),c.c(),c.m(n,null)):c&&(c.d(1),c=null),f[3]!=="mask"?r?(r.p(f,d),d&8&&b(r,1)):(r=qe(f),r.c(),b(r,1),r.m(e,null)):r&&(X(),k(r,1,1,()=>{r=null}),A())},i:function(f){s||(b(i.$$.fragment,f),b(r),s=!0)},o:function(f){k(i.$$.fragment,f),k(r),s=!1},d:function(f){f&&E(e),B(i),c&&c.d(),r&&r.d()}};return v("SvelteRegisterBlock",{block:l,id:Fe.name,type:"component",source:"",ctx:t}),l}function Pn(t,e,n){let i,{$$slots:u={},$$scope:o}=e;ke("SketchSettings",u,[]);let s=!1,c=!1,{brush_radius:r=20}=e,{brush_color:l="#000"}=e,{container_height:a}=e,{img_width:f}=e,{img_height:d}=e,{mode:_="other"}=e;t.$$.on_mount.push(function(){a===void 0&&!("container_height"in e||t.$$.bound[t.$$.props.container_height])&&console.warn("<SketchSettings> was created without expected prop 'container_height'"),f===void 0&&!("img_width"in e||t.$$.bound[t.$$.props.img_width])&&console.warn("<SketchSettings> was created without expected prop 'img_width'"),d===void 0&&!("img_height"in e||t.$$.bound[t.$$.props.img_height])&&console.warn("<SketchSettings> was created without expected prop 'img_height'")});const S=["brush_radius","brush_color","container_height","img_width","img_height","mode"];Object.keys(e).forEach(w=>{!~S.indexOf(w)&&w.slice(0,2)!=="$$"&&w!=="slot"&&console.warn(`<SketchSettings> was created with unknown prop '${w}'`)});const y=()=>n(4,s=!s);function W(){r=ln(this.value),n(0,r)}const D=()=>n(5,c=!c);function U(){l=this.value,n(1,l)}return t.$$set=w=>{"brush_radius"in w&&n(0,r=w.brush_radius),"brush_color"in w&&n(1,l=w.brush_color),"container_height"in w&&n(7,a=w.container_height),"img_width"in w&&n(2,f=w.img_width),"img_height"in w&&n(8,d=w.img_height),"mode"in w&&n(3,_=w.mode)},t.$capture_state=()=>({IconButton:fe,Brush:at,Color:ut,show_size:s,show_col:c,brush_radius:r,brush_color:l,container_height:a,img_width:f,img_height:d,mode:_,width:i}),t.$inject_state=w=>{"show_size"in w&&n(4,s=w.show_size),"show_col"in w&&n(5,c=w.show_col),"brush_radius"in w&&n(0,r=w.brush_radius),"brush_color"in w&&n(1,l=w.brush_color),"container_height"in w&&n(7,a=w.container_height),"img_width"in w&&n(2,f=w.img_width),"img_height"in w&&n(8,d=w.img_height),"mode"in w&&n(3,_=w.mode),"width"in w&&n(6,i=w.width)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty&388&&n(6,i=a*(f/d))},[r,l,f,_,s,c,i,a,d,y,W,D,U]}class Be extends be{constructor(e){super(e),we(this,e,Pn,Fe,se,{brush_radius:0,brush_color:1,container_height:7,img_width:2,img_height:8,mode:3}),v("SvelteRegisterComponent",{component:this,tagName:"SketchSettings",options:e,id:Fe.name})}get brush_radius(){throw new Error("<SketchSettings>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set brush_radius(e){throw new Error("<SketchSettings>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get brush_color(){throw new Error("<SketchSettings>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set brush_color(e){throw new Error("<SketchSettings>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get container_height(){throw new Error("<SketchSettings>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set container_height(e){throw new Error("<SketchSettings>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get img_width(){throw new Error("<SketchSettings>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set img_width(e){throw new Error("<SketchSettings>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get img_height(){throw new Error("<SketchSettings>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set img_height(e){throw new Error("<SketchSettings>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mode(){throw new Error("<SketchSettings>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mode(e){throw new Error("<SketchSettings>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const{console:te}=ot,me="Users/peterallen/Projects/gradio/js/gradio-preview/test/imageslider/frontend/interactive/Image.svelte";function vt(t){let e,n,i,u;const o={c:function(){e=T("img"),F(e.src,n=t[14].image||t[14].data)||p(e,"src",n),p(e,"alt",""),p(e,"class","svelte-14sn87y"),M(e,"webcam",t[6]==="webcam"&&t[9]),M(e,"selectable",t[10]),H(e,me,407,2,9598)},m:function(c,r){I(c,e,r),i||(u=Z(e,"click",t[30],!1,!1,!1,!1),i=!0)},p:function(c,r){r[0]&16384&&!F(e.src,n=c[14].image||c[14].data)&&p(e,"src",n),r[0]&576&&M(e,"webcam",c[6]==="webcam"&&c[9]),r[0]&1024&&M(e,"selectable",c[10])},i:$,o:$,d:function(c){c&&E(e),i=!1,u()}};return v("SvelteRegisterBlock",{block:o,id:vt.name,type:"else",source:"(357:1) {:else}",ctx:t}),o}function St(t){let e=t[22],n,i,u,o=Xe(t),s=t[16]>0&&Ae(t);const c={c:function(){o.c(),n=z(),s&&s.c(),i=ce()},m:function(l,a){o.m(l,a),I(l,n,a),s&&s.m(l,a),I(l,i,a),u=!0},p:function(l,a){a[0]&4194304&&se(e,e=l[22])?(o.d(1),o=Xe(l),o.c(),o.m(n.parentNode,n)):o.p(l,a),l[16]>0?s?(s.p(l,a),a[0]&65536&&b(s,1)):(s=Ae(l),s.c(),b(s,1),s.m(i.parentNode,i)):s&&(X(),k(s,1,1,()=>{s=null}),A())},i:function(l){u||(b(s),u=!0)},o:function(l){k(s),u=!1},d:function(l){l&&(E(n),E(i)),o.d(l),s&&s.d(l)}};return v("SvelteRegisterBlock",{block:c,id:St.name,type:"if",source:"(317:94) ",ctx:t}),c}function It(t){let e,n,i,u,o,s,c;e=new Se({props:{editable:!0},$$inline:!0}),e.$on("edit",t[49]),e.$on("clear",t[25]);const r={c:function(){P(e.$$.fragment),n=z(),i=T("img"),F(i.src,u=t[14])||p(i,"src",u),p(i,"alt",""),p(i,"class","svelte-14sn87y"),M(i,"selectable",t[10]),M(i,"webcam",t[6]==="webcam"&&t[9]),H(i,me,355,2,8264)},m:function(a,f){R(e,a,f),I(a,n,f),I(a,i,f),o=!0,s||(c=Z(i,"click",t[30],!1,!1,!1,!1),s=!0)},p:function(a,f){(!o||f[0]&16384&&!F(i.src,u=a[14]))&&p(i,"src",u),(!o||f[0]&1024)&&M(i,"selectable",a[10]),(!o||f[0]&576)&&M(i,"webcam",a[6]==="webcam"&&a[9])},i:function(a){o||(b(e.$$.fragment,a),o=!0)},o:function(a){k(e.$$.fragment,a),o=!1},d:function(a){a&&(E(n),E(i)),B(e,a),s=!1,c()}};return v("SvelteRegisterBlock",{block:r,id:It.name,type:"if",source:"(300:29) ",ctx:t}),r}function Et(t){let e,n,i,u,o={image:t[0].data};e=new et({props:o,$$inline:!0}),t[47](e),e.$on("crop",t[26]),i=new Se({$$inline:!0}),i.$on("clear",t[48]);const s={c:function(){P(e.$$.fragment),n=z(),P(i.$$.fragment)},m:function(r,l){R(e,r,l),I(r,n,l),R(i,r,l),u=!0},p:function(r,l){const a={};l[0]&1&&(a.image=r[0].data),e.$set(a)},i:function(r){u||(b(e.$$.fragment,r),b(i.$$.fragment,r),u=!0)},o:function(r){k(e.$$.fragment,r),k(i.$$.fragment,r),u=!1},d:function(r){r&&E(n),t[47](null),B(e,r),B(i,r)}};return v("SvelteRegisterBlock",{block:s,id:Et.name,type:"if",source:"(297:29) ",ctx:t}),s}function Pt(t){let e,n,i=t[6]==="webcam"&&!t[22]&&Je(t);const u={c:function(){i&&i.c(),e=ce()},m:function(s,c){i&&i.m(s,c),I(s,e,c),n=!0},p:function(s,c){s[6]==="webcam"&&!s[22]?i?(i.p(s,c),c[0]&4194368&&b(i,1)):(i=Je(s),i.c(),b(i,1),i.m(e.parentNode,e)):i&&(X(),k(i,1,1,()=>{i=null}),A())},i:function(s){n||(b(i),n=!0)},o:function(s){k(i),n=!1},d:function(s){s&&E(e),i&&i.d(s)}};return v("SvelteRegisterBlock",{block:u,id:Pt.name,type:"if",source:"(285:58) ",ctx:t}),u}function Rt(t){let e,n,i,u;e=new Re({$$inline:!0}),e.$on("undo",t[42]),e.$on("remove_image",t[28]);let o=t[1]==="color-sketch"&&Ke(t);const s={c:function(){P(e.$$.fragment),n=z(),o&&o.c(),i=ce()},m:function(r,l){R(e,r,l),I(r,n,l),o&&o.m(r,l),I(r,i,l),u=!0},p:function(r,l){r[1]==="color-sketch"?o?(o.p(r,l),l[0]&2&&b(o,1)):(o=Ke(r),o.c(),b(o,1),o.m(i.parentNode,i)):o&&(X(),k(o,1,1,()=>{o=null}),A())},i:function(r){u||(b(e.$$.fragment,r),b(o),u=!0)},o:function(r){k(e.$$.fragment,r),k(o),u=!1},d:function(r){r&&(E(n),E(i)),B(e,r),o&&o.d(r)}};return v("SvelteRegisterBlock",{block:s,id:Rt.name,type:"if",source:"(258:31) ",ctx:t}),s}function Bt(t){let e,n,i;function u(c){t[41](c)}let o={filetype:"image/*",include_file_metadata:!1,disable_click:!!t[0],root:t[11],$$slots:{default:[Ut]},$$scope:{ctx:t}};t[13]!==void 0&&(o.dragging=t[13]),e=new _t({props:o,$$inline:!0}),L.push(()=>ie(e,"dragging",u)),e.$on("load",t[24]);const s={c:function(){P(e.$$.fragment)},m:function(r,l){R(e,r,l),i=!0},p:function(r,l){const a={};l[0]&1&&(a.disable_click=!!r[0]),l[0]&2048&&(a.root=r[11]),l[0]&8378063|l[1]&16777216&&(a.$$scope={dirty:l,ctx:r}),!n&&l[0]&8192&&(n=!0,a.dragging=r[13],re(()=>n=!1)),e.$set(a)},i:function(r){i||(b(e.$$.fragment,r),i=!0)},o:function(r){k(e.$$.fragment,r),i=!1},d:function(r){B(e,r)}};return v("SvelteRegisterBlock",{block:s,id:Bt.name,type:"if",source:'(166:1) {#if source === \\"upload\\"}',ctx:t}),s}function Xe(t){let e,n,i,u;const o={c:function(){e=T("img"),p(e,"class","absolute-img svelte-14sn87y"),F(e.src,n=t[22]||t[14])||p(e,"src",n),p(e,"alt",""),M(e,"webcam",t[6]==="webcam"&&t[9]),H(e,me,364,3,8522)},m:function(c,r){I(c,e,r),t[50](e),i||(u=Z(e,"load",t[27],!1,!1,!1,!1),i=!0)},p:function(c,r){r[0]&4210688&&!F(e.src,n=c[22]||c[14])&&p(e,"src",n),r[0]&576&&M(e,"webcam",c[6]==="webcam"&&c[9])},d:function(c){c&&E(e),t[50](null),i=!1,u()}};return v("SvelteRegisterBlock",{block:o,id:Xe.name,type:"key",source:"(318:2) {#key static_image}",ctx:t}),o}function Ae(t){let e,n,i,u;e=new Re({$$inline:!0}),e.$on("undo",t[51]),e.$on("remove_image",t[28]);let o=(t[1]==="color-sketch"||t[1]==="sketch")&&Ge(t);const s={c:function(){P(e.$$.fragment),n=z(),o&&o.c(),i=ce()},m:function(r,l){R(e,r,l),I(r,n,l),o&&o.m(r,l),I(r,i,l),u=!0},p:function(r,l){r[1]==="color-sketch"||r[1]==="sketch"?o?(o.p(r,l),l[0]&2&&b(o,1)):(o=Ge(r),o.c(),b(o,1),o.m(i.parentNode,i)):o&&(X(),k(o,1,1,()=>{o=null}),A())},i:function(r){u||(b(e.$$.fragment,r),b(o),u=!0)},o:function(r){k(e.$$.fragment,r),k(o),u=!1},d:function(r){r&&(E(n),E(i)),B(e,r),o&&o.d(r)}};return v("SvelteRegisterBlock",{block:s,id:Ae.name,type:"if",source:"(328:2) {#if img_width > 0}",ctx:t}),s}function Ge(t){let e,n,i,u;function o(l){t[52](l)}function s(l){t[53](l)}let c={container_height:t[17]||t[20],img_width:t[16]||t[21],img_height:t[15]||t[20],mode:t[18]};t[2]!==void 0&&(c.brush_radius=t[2]),t[3]!==void 0&&(c.brush_color=t[3]),e=new Be({props:c,$$inline:!0}),L.push(()=>ie(e,"brush_radius",o)),L.push(()=>ie(e,"brush_color",s));const r={c:function(){P(e.$$.fragment)},m:function(a,f){R(e,a,f),u=!0},p:function(a,f){const d={};f[0]&1179648&&(d.container_height=a[17]||a[20]),f[0]&2162688&&(d.img_width=a[16]||a[21]),f[0]&1081344&&(d.img_height=a[15]||a[20]),f[0]&262144&&(d.mode=a[18]),!n&&f[0]&4&&(n=!0,d.brush_radius=a[2],re(()=>n=!1)),!i&&f[0]&8&&(i=!0,d.brush_color=a[3],re(()=>i=!1)),e.$set(d)},i:function(a){u||(b(e.$$.fragment,a),u=!0)},o:function(a){k(e.$$.fragment,a),u=!1},d:function(a){B(e,a)}};return v("SvelteRegisterBlock",{block:r,id:Ge.name,type:"if",source:'(346:3) {#if tool === \\"color-sketch\\" || tool === \\"sketch\\"}',ctx:t}),r}function Je(t){let e,n;e=new yt({props:{streaming:t[7],pending:t[8],mirror_webcam:t[9]},$$inline:!0}),e.$on("capture",t[45]),e.$on("stream",t[26]),e.$on("error",t[46]);const i={c:function(){P(e.$$.fragment)},m:function(o,s){R(e,o,s),n=!0},p:function(o,s){const c={};s[0]&128&&(c.streaming=o[7]),s[0]&256&&(c.pending=o[8]),s[0]&512&&(c.mirror_webcam=o[9]),e.$set(c)},i:function(o){n||(b(e.$$.fragment,o),n=!0)},o:function(o){k(e.$$.fragment,o),n=!1},d:function(o){B(e,o)}};return v("SvelteRegisterBlock",{block:i,id:Je.name,type:"if",source:'(286:2) {#if source === \\"webcam\\" && !static_image}',ctx:t}),i}function Ke(t){let e,n,i,u;function o(l){t[43](l)}function s(l){t[44](l)}let c={container_height:t[17]||t[20],img_width:t[16]||t[21],img_height:t[15]||t[20]};t[2]!==void 0&&(c.brush_radius=t[2]),t[3]!==void 0&&(c.brush_color=t[3]),e=new Be({props:c,$$inline:!0}),L.push(()=>ie(e,"brush_radius",o)),L.push(()=>ie(e,"brush_color",s));const r={c:function(){P(e.$$.fragment)},m:function(a,f){R(e,a,f),u=!0},p:function(a,f){const d={};f[0]&1179648&&(d.container_height=a[17]||a[20]),f[0]&2162688&&(d.img_width=a[16]||a[21]),f[0]&1081344&&(d.img_height=a[15]||a[20]),!n&&f[0]&4&&(n=!0,d.brush_radius=a[2],re(()=>n=!1)),!i&&f[0]&8&&(i=!0,d.brush_color=a[3],re(()=>i=!1)),e.$set(d)},i:function(a){u||(b(e.$$.fragment,a),u=!0)},o:function(a){k(e.$$.fragment,a),u=!1},d:function(a){B(e,a)}};return v("SvelteRegisterBlock",{block:r,id:Ke.name,type:"if",source:'(263:2) {#if tool === \\"color-sketch\\"}',ctx:t}),r}function jt(t){let e,n,i,u;const o={c:function(){e=T("img"),F(e.src,n=t[0].image||t[0].data)||p(e,"src",n),p(e,"alt","hello"),p(e,"class","svelte-14sn87y"),M(e,"webcam",t[6]==="webcam"&&t[9]),M(e,"selectable",t[10]),H(e,me,294,4,6623)},m:function(c,r){I(c,e,r),i||(u=Z(e,"click",t[30],!1,!1,!1,!1),i=!0)},p:function(c,r){r[0]&1&&!F(e.src,n=c[0].image||c[0].data)&&p(e,"src",n),r[0]&576&&M(e,"webcam",c[6]==="webcam"&&c[9]),r[0]&1024&&M(e,"selectable",c[10])},i:$,o:$,d:function(c){c&&E(e),i=!1,u()}};return v("SvelteRegisterBlock",{block:o,id:jt.name,type:"else",source:"(245:3) {:else}",ctx:t}),o}function Ct(t){let e=t[22],n,i,u,o=Qe(t),s=t[16]>0&&Ve(t);const c={c:function(){o.c(),n=z(),s&&s.c(),i=ce()},m:function(l,a){o.m(l,a),I(l,n,a),s&&s.m(l,a),I(l,i,a),u=!0},p:function(l,a){a[0]&4194304&&se(e,e=l[22])?(o.d(1),o=Qe(l),o.c(),o.m(n.parentNode,n)):o.p(l,a),l[16]>0?s?(s.p(l,a),a[0]&65536&&b(s,1)):(s=Ve(l),s.c(),b(s,1),s.m(i.parentNode,i)):s&&(X(),k(s,1,1,()=>{s=null}),A())},i:function(l){u||(b(s),u=!0)},o:function(l){k(s),u=!1},d:function(l){l&&(E(n),E(i)),o.d(l),s&&s.d(l)}};return v("SvelteRegisterBlock",{block:c,id:Ct.name,type:"if",source:"(201:96) ",ctx:t}),c}function Wt(t){let e,n,i,u,o,s,c;e=new Se({props:{editable:!0},$$inline:!0}),e.$on("edit",t[36]),e.$on("clear",t[25]);const r={c:function(){P(e.$$.fragment),n=z(),i=T("img"),F(i.src,u=t[14].data)||p(i,"src",u),p(i,"alt",""),p(i,"class","svelte-14sn87y"),M(i,"scale-x-[-1]",t[6]==="webcam"&&t[9]),M(i,"selectable",t[10]),H(i,me,239,4,5058)},m:function(a,f){R(e,a,f),I(a,n,f),I(a,i,f),o=!0,s||(c=Z(i,"click",t[30],!1,!1,!1,!1),s=!0)},p:function(a,f){(!o||f[0]&16384&&!F(i.src,u=a[14].data))&&p(i,"src",u),(!o||f[0]&576)&&M(i,"scale-x-[-1]",a[6]==="webcam"&&a[9]),(!o||f[0]&1024)&&M(i,"selectable",a[10])},i:function(a){o||(b(e.$$.fragment,a),o=!0)},o:function(a){k(e.$$.fragment,a),o=!1},d:function(a){a&&(E(n),E(i)),B(e,a),s=!1,c()}};return v("SvelteRegisterBlock",{block:r,id:Wt.name,type:"if",source:"(184:31) ",ctx:t}),r}function Mt(t){let e,n,i,u,o={image:t[14].data};e=new et({props:o,$$inline:!0}),t[34](e),e.$on("crop",t[26]),i=new Se({$$inline:!0}),i.$on("clear",t[35]);const s={c:function(){P(e.$$.fragment),n=z(),P(i.$$.fragment)},m:function(r,l){R(e,r,l),I(r,n,l),R(i,r,l),u=!0},p:function(r,l){const a={};l[0]&16384&&(a.image=r[14].data),e.$set(a)},i:function(r){u||(b(e.$$.fragment,r),b(i.$$.fragment,r),u=!0)},o:function(r){k(e.$$.fragment,r),k(i.$$.fragment,r),u=!1},d:function(r){r&&E(n),t[34](null),B(e,r),B(i,r)}};return v("SvelteRegisterBlock",{block:s,id:Mt.name,type:"if",source:"(177:31) ",ctx:t}),s}function Nt(t){let e;const n=t[33].default,i=dn(n,t,t[55],null),u={c:function(){i&&i.c()},m:function(s,c){i&&i.m(s,c),e=!0},p:function(s,c){i&&i.p&&(!e||c[1]&16777216)&&hn(i,n,s,s[55],e?gn(n,s[55],c,null):_n(s[55]),null)},i:function(s){e||(b(i,s),e=!0)},o:function(s){k(i,s),e=!1},d:function(s){i&&i.d(s)}};return v("SvelteRegisterBlock",{block:u,id:Nt.name,type:"if",source:"(175:3) {#if (value === null && !static_image) || streaming}",ctx:t}),u}function Qe(t){let e,n,i,u;const o={c:function(){e=T("img"),p(e,"class","absolute-img svelte-14sn87y"),F(e.src,n=t[22]||t[0]?.image||t[0])||p(e,"src",n),p(e,"alt",""),M(e,"webcam",t[6]==="webcam"&&t[9]),H(e,me,248,5,5345)},m:function(c,r){I(c,e,r),t[37](e),i||(u=Z(e,"load",t[27],!1,!1,!1,!1),i=!0)},p:function(c,r){r[0]&4194305&&!F(e.src,n=c[22]||c[0]?.image||c[0])&&p(e,"src",n),r[0]&576&&M(e,"webcam",c[6]==="webcam"&&c[9])},d:function(c){c&&E(e),t[37](null),i=!1,u()}};return v("SvelteRegisterBlock",{block:o,id:Qe.name,type:"key",source:"(202:4) {#key static_image}",ctx:t}),o}function Ve(t){let e,n,i,u;e=new Re({props:{show_eraser:t[19]},$$inline:!0}),e.$on("undo",t[38]),e.$on("clear_mask",t[29]),e.$on("remove_image",t[28]);let o=(t[1]==="color-sketch"||t[1]==="sketch")&&Ye(t);const s={c:function(){P(e.$$.fragment),n=z(),o&&o.c(),i=ce()},m:function(r,l){R(e,r,l),I(r,n,l),o&&o.m(r,l),I(r,i,l),u=!0},p:function(r,l){const a={};l[0]&524288&&(a.show_eraser=r[19]),e.$set(a),r[1]==="color-sketch"||r[1]==="sketch"?o?(o.p(r,l),l[0]&2&&b(o,1)):(o=Ye(r),o.c(),b(o,1),o.m(i.parentNode,i)):o&&(X(),k(o,1,1,()=>{o=null}),A())},i:function(r){u||(b(e.$$.fragment,r),b(o),u=!0)},o:function(r){k(e.$$.fragment,r),k(o),u=!1},d:function(r){r&&(E(n),E(i)),B(e,r),o&&o.d(r)}};return v("SvelteRegisterBlock",{block:s,id:Ve.name,type:"if",source:"(212:4) {#if img_width > 0}",ctx:t}),s}function Ye(t){let e,n,i,u;function o(l){t[39](l)}function s(l){t[40](l)}let c={container_height:t[17]||t[20],img_width:t[16]||t[21],img_height:t[15]||t[20],mode:t[18]};t[2]!==void 0&&(c.brush_radius=t[2]),t[3]!==void 0&&(c.brush_color=t[3]),e=new Be({props:c,$$inline:!0}),L.push(()=>ie(e,"brush_radius",o)),L.push(()=>ie(e,"brush_color",s));const r={c:function(){P(e.$$.fragment)},m:function(a,f){R(e,a,f),u=!0},p:function(a,f){const d={};f[0]&1179648&&(d.container_height=a[17]||a[20]),f[0]&2162688&&(d.img_width=a[16]||a[21]),f[0]&1081344&&(d.img_height=a[15]||a[20]),f[0]&262144&&(d.mode=a[18]),!n&&f[0]&4&&(n=!0,d.brush_radius=a[2],re(()=>n=!1)),!i&&f[0]&8&&(i=!0,d.brush_color=a[3],re(()=>i=!1)),e.$set(d)},i:function(a){u||(b(e.$$.fragment,a),u=!0)},o:function(a){k(e.$$.fragment,a),u=!1},d:function(a){B(e,a)}};return v("SvelteRegisterBlock",{block:r,id:Ye.name,type:"if",source:'(234:5) {#if tool === \\"color-sketch\\" || tool === \\"sketch\\"}',ctx:t}),r}function Ut(t){let e,n,i,u;const o=[Nt,Mt,Wt,Ct,jt],s=[];function c(l,a){return l[0]===null&&!l[22]||l[7]?0:l[1]==="select"?1:l[1]==="editor"?2:(l[1]==="sketch"||l[1]==="color-sketch")&&(l[0]!==null||l[22])?3:4}e=c(t),n=s[e]=o[e](t);const r={c:function(){n.c(),i=ce()},m:function(a,f){s[e].m(a,f),I(a,i,f),u=!0},p:function(a,f){let d=e;e=c(a),e===d?s[e].p(a,f):(X(),k(s[d],1,1,()=>{s[d]=null}),A(),n=s[e],n?n.p(a,f):(n=s[e]=o[e](a),n.c()),b(n,1),n.m(i.parentNode,i))},i:function(a){u||(b(n),u=!0)},o:function(a){k(n),u=!1},d:function(a){a&&E(i),s[e].d(a)}};return v("SvelteRegisterBlock",{block:r,id:Ut.name,type:"slot",source:'(167:2) <Upload    bind:dragging    filetype=\\"image/*\\"    on:load={handle_upload}    include_file_metadata={false}    disable_click={!!value}    {root}   >',ctx:t}),r}function Ze(t){let e,n,i,u,o,s,c;e=new mt({props:{show_label:t[5],Icon:t[6]==="canvas"?We:Me,label:t[4]||(t[6]==="canvas"?"Sketch":"Image")},$$inline:!0});const r=[Bt,Rt,Pt,Et,It,St,vt],l=[];function a(d,_){return d[6]==="upload"?0:d[6]==="canvas"?1:d[0]===null&&!d[22]||d[7]?2:d[1]==="select"?3:d[1]==="editor"?4:(d[1]==="sketch"||d[1]==="color-sketch")&&(d[0]!==null||d[22])?5:6}u=a(t),o=l[u]=r[u](t);const f={c:function(){P(e.$$.fragment),n=z(),i=T("div"),o.c(),p(i,"data-testid","image"),p(i,"class","image-container svelte-14sn87y"),un(()=>t[54].call(i)),H(i,me,205,0,4195)},l:function(_){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(_,S){R(e,_,S),I(_,n,S),I(_,i,S),l[u].m(i,null),s=fn(i,t[54].bind(i)),c=!0},p:function(_,S){const y={};S[0]&32&&(y.show_label=_[5]),S[0]&64&&(y.Icon=_[6]==="canvas"?We:Me),S[0]&80&&(y.label=_[4]||(_[6]==="canvas"?"Sketch":"Image")),e.$set(y);let W=u;u=a(_),u===W?l[u].p(_,S):(X(),k(l[W],1,1,()=>{l[W]=null}),A(),o=l[u],o?o.p(_,S):(o=l[u]=r[u](_),o.c()),b(o,1),o.m(i,null))},i:function(_){c||(b(e.$$.fragment,_),b(o),c=!0)},o:function(_){k(e.$$.fragment,_),k(o),c=!1},d:function(_){_&&(E(n),E(i)),B(e,_),l[u].d(),s()}};return v("SvelteRegisterBlock",{block:f,id:Ze.name,type:"component",source:"",ctx:t}),f}function Rn(t,e,n){let{$$slots:i={},$$scope:u}=e;ke("Image",i,["default"]);let{value:o}=e,{label:s=void 0}=e,{show_label:c}=e,{source:r="upload"}=e,{tool:l="editor"}=e,{shape:a}=e,{streaming:f=!1}=e,{pending:d=!1}=e,{mirror_webcam:_}=e,{brush_radius:S}=e,{brush_color:y="#000000"}=e,{mask_opacity:W}=e,{selectable:D=!1}=e,{root:U}=e,w,j;o&&(r==="upload"||r==="webcam")&&l==="sketch"&&(o={image:o,mask:null});function G({detail:m}){l==="color-sketch"?n(22,Y=m):n(0,o=(r==="upload"||r==="webcam")&&l==="sketch"?{image:m,mask:null}:m),g("upload",m)}function J({detail:m}){n(0,o=null),n(22,Y=void 0),g("clear")}async function K({detail:m},ee){Q==="mask"?r==="webcam"&&ee?n(0,o={image:m,mask:null}):n(0,o={image:typeof o=="string"?o:o?.image||null,mask:m}):(r==="upload"||r==="webcam")&&l==="sketch"?n(0,o={image:m,mask:null}):n(0,o=m),await pe(),g(f?"stream":"edit")}const g=oe();let N=!1,O=null;function x(m){const ee=m.currentTarget;n(16,he=ee.naturalWidth),n(15,de=ee.naturalHeight),n(17,_e=ee.getBoundingClientRect().height)}async function q(){w.clear(),await pe(),n(0,o=null),n(22,Y=void 0)}async function le(){w.clear_mask(),await pe()}let de=0,he=0,_e=0,Q,V,ae,ue,Y;ye(async()=>{l==="color-sketch"&&o&&typeof o=="string"&&(n(22,Y=o),await pe(),x({currentTarget:V}))});function Ie(m){let ee=nt(m);ee&&g("select",{index:ee,value:null})}t.$$.on_mount.push(function(){o===void 0&&!("value"in e||t.$$.bound[t.$$.props.value])&&te.warn("<Image> was created without expected prop 'value'"),c===void 0&&!("show_label"in e||t.$$.bound[t.$$.props.show_label])&&te.warn("<Image> was created without expected prop 'show_label'"),a===void 0&&!("shape"in e||t.$$.bound[t.$$.props.shape])&&te.warn("<Image> was created without expected prop 'shape'"),_===void 0&&!("mirror_webcam"in e||t.$$.bound[t.$$.props.mirror_webcam])&&te.warn("<Image> was created without expected prop 'mirror_webcam'"),S===void 0&&!("brush_radius"in e||t.$$.bound[t.$$.props.brush_radius])&&te.warn("<Image> was created without expected prop 'brush_radius'"),W===void 0&&!("mask_opacity"in e||t.$$.bound[t.$$.props.mask_opacity])&&te.warn("<Image> was created without expected prop 'mask_opacity'"),U===void 0&&!("root"in e||t.$$.bound[t.$$.props.root])&&te.warn("<Image> was created without expected prop 'root'")});const je=["value","label","show_label","source","tool","shape","streaming","pending","mirror_webcam","brush_radius","brush_color","mask_opacity","selectable","root"];Object.keys(e).forEach(m=>{!~je.indexOf(m)&&m.slice(0,2)!=="$$"&&m!=="slot"&&te.warn(`<Image> was created with unknown prop '${m}'`)});function h(m){L[m?"unshift":"push"](()=>{j=m,n(12,j),n(0,o)})}const Dt=m=>(J(m),n(1,l="editor")),zt=()=>n(1,l="select");function qt(m){L[m?"unshift":"push"](()=>{V=m,n(19,V)})}const Lt=()=>w.undo();function Ft(m){S=m,n(2,S)}function Xt(m){y=m,n(3,y)}function At(m){N=m,n(13,N)}const Gt=()=>w.undo();function Jt(m){S=m,n(2,S)}function Kt(m){y=m,n(3,y)}const Qt=m=>l==="color-sketch"?G(m):K(m,!0);function Vt(m){mn.call(this,t,m)}function Yt(m){L[m?"unshift":"push"](()=>{j=m,n(12,j),n(0,o)})}const Zt=m=>(J(m),n(1,l="editor")),xt=()=>n(1,l="select");function $t(m){L[m?"unshift":"push"](()=>{V=m,n(19,V)})}const en=()=>w.undo();function tn(m){S=m,n(2,S)}function nn(m){y=m,n(3,y)}function on(){ae=this.offsetHeight,ue=this.offsetWidth,n(20,ae),n(21,ue)}return t.$$set=m=>{"value"in m&&n(0,o=m.value),"label"in m&&n(4,s=m.label),"show_label"in m&&n(5,c=m.show_label),"source"in m&&n(6,r=m.source),"tool"in m&&n(1,l=m.tool),"shape"in m&&n(31,a=m.shape),"streaming"in m&&n(7,f=m.streaming),"pending"in m&&n(8,d=m.pending),"mirror_webcam"in m&&n(9,_=m.mirror_webcam),"brush_radius"in m&&n(2,S=m.brush_radius),"brush_color"in m&&n(3,y=m.brush_color),"mask_opacity"in m&&n(32,W=m.mask_opacity),"selectable"in m&&n(10,D=m.selectable),"root"in m&&n(11,U=m.root),"$$scope"in m&&n(55,u=m.$$scope)},t.$capture_state=()=>({createEventDispatcher:oe,tick:pe,onMount:ye,BlockLabel:mt,Image:Me,SketchIcon:We,get_coordinates_of_clicked_image:nt,Cropper:et,Webcam:yt,ModifySketch:Re,SketchSettings:Be,Upload:_t,ModifyUpload:Se,normalise_file:tt,value:o,label:s,show_label:c,source:r,tool:l,shape:a,streaming:f,pending:d,mirror_webcam:_,brush_radius:S,brush_color:y,mask_opacity:W,selectable:D,root:U,sketch:w,cropper:j,handle_upload:G,handle_clear:J,handle_save:K,dispatch:g,dragging:N,value_:O,handle_image_load:x,handle_sketch_clear:q,handle_mask_clear:le,img_height:de,img_width:he,container_height:_e,mode:Q,value_img:V,max_height:ae,max_width:ue,static_image:Y,handle_click:Ie}),t.$inject_state=m=>{"value"in m&&n(0,o=m.value),"label"in m&&n(4,s=m.label),"show_label"in m&&n(5,c=m.show_label),"source"in m&&n(6,r=m.source),"tool"in m&&n(1,l=m.tool),"shape"in m&&n(31,a=m.shape),"streaming"in m&&n(7,f=m.streaming),"pending"in m&&n(8,d=m.pending),"mirror_webcam"in m&&n(9,_=m.mirror_webcam),"brush_radius"in m&&n(2,S=m.brush_radius),"brush_color"in m&&n(3,y=m.brush_color),"mask_opacity"in m&&n(32,W=m.mask_opacity),"selectable"in m&&n(10,D=m.selectable),"root"in m&&n(11,U=m.root),"sketch"in m&&n(23,w=m.sketch),"cropper"in m&&n(12,j=m.cropper),"dragging"in m&&n(13,N=m.dragging),"value_"in m&&n(14,O=m.value_),"img_height"in m&&n(15,de=m.img_height),"img_width"in m&&n(16,he=m.img_width),"container_height"in m&&n(17,_e=m.container_height),"mode"in m&&n(18,Q=m.mode),"value_img"in m&&n(19,V=m.value_img),"max_height"in m&&n(20,ae=m.max_height),"max_width"in m&&n(21,ue=m.max_width),"static_image"in m&&n(22,Y=m.static_image)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty[0]&8192&&g("drag",N),t.$$.dirty[0]&18433&&o!==O&&(n(14,O=o),tt(O,U,null)),t.$$.dirty[0]&16384&&console.log(O),t.$$.dirty[0]&66&&(r==="canvas"&&l==="sketch"?n(18,Q="bw-sketch"):l==="color-sketch"?n(18,Q="color-sketch"):(r==="upload"||r==="webcam")&&l==="sketch"?n(18,Q="mask"):n(18,Q="editor")),t.$$.dirty[0]&1&&(o===null||o.image===null&&o.mask===null)&&n(22,Y=void 0),t.$$.dirty[0]&4097&&j&&(o?(n(12,j.image=o,j),j.create()):j.destroy())},[o,l,S,y,s,c,r,f,d,_,D,U,j,N,O,de,he,_e,Q,V,ae,ue,Y,w,G,J,K,x,q,le,Ie,a,W,i,h,Dt,zt,qt,Lt,Ft,Xt,At,Gt,Jt,Kt,Qt,Vt,Yt,Zt,xt,$t,en,tn,nn,on,u]}class Ot extends be{constructor(e){super(e),we(this,e,Rn,Ze,se,{value:0,label:4,show_label:5,source:6,tool:1,shape:31,streaming:7,pending:8,mirror_webcam:9,brush_radius:2,brush_color:3,mask_opacity:32,selectable:10,root:11},null,[-1,-1]),v("SvelteRegisterComponent",{component:this,tagName:"Image_1",options:e,id:Ze.name})}get value(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get show_label(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show_label(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get source(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set source(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get tool(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set tool(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get shape(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set shape(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get streaming(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set streaming(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get pending(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set pending(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mirror_webcam(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mirror_webcam(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get brush_radius(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set brush_radius(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get brush_color(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set brush_color(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mask_opacity(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mask_opacity(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get selectable(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selectable(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get root(){throw new Error("<Image>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set root(e){throw new Error("<Image>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function Tt(t){let e,n;e=new gt({props:{type:"image"},$$inline:!0});const i={c:function(){P(e.$$.fragment)},m:function(o,s){R(e,o,s),n=!0},p:$,i:function(o){n||(b(e.$$.fragment,o),n=!0)},o:function(o){k(e.$$.fragment,o),n=!1},d:function(o){B(e,o)}};return v("SvelteRegisterBlock",{block:i,id:Tt.name,type:"slot",source:'(54:1) <Image   {brush_radius}   {brush_color}   {shape}   bind:value   {source}   {tool}   {selectable}   {mask_opacity}   {root}   on:edit={() => gradio.dispatch(\\"edit\\")}   on:clear={() => gradio.dispatch(\\"clear\\")}   on:stream={() => gradio.dispatch(\\"stream\\")}   on:drag={({ detail }) => (dragging = detail)}   on:upload={() => gradio.dispatch(\\"upload\\")}   on:select={({ detail }) => gradio.dispatch(\\"select\\", detail)}   on:share={({ detail }) => gradio.dispatch(\\"share\\", detail)}   on:error={({ detail }) => {    loading_status = loading_status || {};    loading_status.status = \\"error\\";    gradio.dispatch(\\"error\\", detail);   }}   {label}   {show_label}   {pending}   {streaming}   {mirror_webcam}  >',ctx:t}),i}function Ht(t){let e,n,i,u,o;const s=[t[1]];let c={};for(let f=0;f<s.length;f+=1)c=bn(c,s[f]);e=new it({props:c,$$inline:!0});function r(f){t[25](f)}let l={brush_radius:t[15],brush_color:t[16],shape:t[14],source:t[5],tool:t[6],selectable:t[18],mask_opacity:t[17],root:t[22],label:t[7],show_label:t[8],pending:t[10],streaming:t[9],mirror_webcam:t[13],$$slots:{default:[Tt]},$$scope:{ctx:t}};t[0]!==void 0&&(l.value=t[0]),i=new Ot({props:l,$$inline:!0}),L.push(()=>ie(i,"value",r)),i.$on("edit",t[26]),i.$on("clear",t[27]),i.$on("stream",t[28]),i.$on("drag",t[29]),i.$on("upload",t[30]),i.$on("select",t[31]),i.$on("share",t[32]),i.$on("error",t[33]);const a={c:function(){P(e.$$.fragment),n=z(),P(i.$$.fragment)},m:function(d,_){R(e,d,_),I(d,n,_),R(i,d,_),o=!0},p:function(d,_){const S=_[0]&2?wn(s,[kn(d[1])]):{};e.$set(S);const y={};_[0]&32768&&(y.brush_radius=d[15]),_[0]&65536&&(y.brush_color=d[16]),_[0]&16384&&(y.shape=d[14]),_[0]&32&&(y.source=d[5]),_[0]&64&&(y.tool=d[6]),_[0]&262144&&(y.selectable=d[18]),_[0]&131072&&(y.mask_opacity=d[17]),_[0]&4194304&&(y.root=d[22]),_[0]&128&&(y.label=d[7]),_[0]&256&&(y.show_label=d[8]),_[0]&1024&&(y.pending=d[10]),_[0]&512&&(y.streaming=d[9]),_[0]&8192&&(y.mirror_webcam=d[13]),_[1]&8&&(y.$$scope={dirty:_,ctx:d}),!u&&_[0]&1&&(u=!0,y.value=d[0],re(()=>u=!1)),i.$set(y)},i:function(d){o||(b(e.$$.fragment,d),b(i.$$.fragment,d),o=!0)},o:function(d){k(e.$$.fragment,d),k(i.$$.fragment,d),o=!1},d:function(d){d&&E(n),B(e,d),B(i,d)}};return v("SvelteRegisterBlock",{block:a,id:Ht.name,type:"slot",source:'(38:0) <Block  {visible}  variant={value === null && source === \\"upload\\" ? \\"dashed\\" : \\"solid\\"}  border_mode={dragging ? \\"focus\\" : \\"base\\"}  padding={false}  {elem_id}  {elem_classes}  height={height || (source === \\"webcam\\" ? undefined : FIXED_HEIGHT)}  {width}  allow_overflow={false}  {container}  {scale}  {min_width} >',ctx:t}),a}function xe(t){let e,n;e=new ft({props:{visible:t[4],variant:t[0]===null&&t[5]==="upload"?"dashed":"solid",border_mode:t[24]?"focus":"base",padding:!1,elem_id:t[2],elem_classes:t[3],height:t[11]||(t[5]==="webcam"?void 0:$e),width:t[12],allow_overflow:!1,container:t[19],scale:t[20],min_width:t[21],$$slots:{default:[Ht]},$$scope:{ctx:t}},$$inline:!0});const i={c:function(){P(e.$$.fragment)},l:function(o){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,s){R(e,o,s),n=!0},p:function(o,s){const c={};s[0]&16&&(c.visible=o[4]),s[0]&33&&(c.variant=o[0]===null&&o[5]==="upload"?"dashed":"solid"),s[0]&16777216&&(c.border_mode=o[24]?"focus":"base"),s[0]&4&&(c.elem_id=o[2]),s[0]&8&&(c.elem_classes=o[3]),s[0]&2080&&(c.height=o[11]||(o[5]==="webcam"?void 0:$e)),s[0]&4096&&(c.width=o[12]),s[0]&524288&&(c.container=o[19]),s[0]&1048576&&(c.scale=o[20]),s[0]&2097152&&(c.min_width=o[21]),s[0]&29878243|s[1]&8&&(c.$$scope={dirty:s,ctx:o}),e.$set(c)},i:function(o){n||(b(e.$$.fragment,o),n=!0)},o:function(o){k(e.$$.fragment,o),n=!1},d:function(o){B(e,o)}};return v("SvelteRegisterBlock",{block:i,id:xe.name,type:"component",source:"",ctx:t}),i}const $e=240;function Bn(t,e,n){let{$$slots:i={},$$scope:u}=e;ke("InteractiveImage",i,[]);let{elem_id:o=""}=e,{elem_classes:s=[]}=e,{visible:c=!0}=e,{value:r=null}=e,{source:l="upload"}=e,{tool:a="editor"}=e,{label:f}=e,{show_label:d}=e,{streaming:_}=e,{pending:S}=e,{height:y}=e,{width:W}=e,{mirror_webcam:D}=e,{shape:U}=e,{brush_radius:w}=e,{brush_color:j}=e,{mask_opacity:G}=e,{selectable:J=!1}=e,{container:K=!0}=e,{scale:g=null}=e,{min_width:N=void 0}=e,{loading_status:O}=e,{root:x}=e,{gradio:q}=e,le;t.$$.on_mount.push(function(){f===void 0&&!("label"in e||t.$$.bound[t.$$.props.label])&&console.warn("<InteractiveImage> was created without expected prop 'label'"),d===void 0&&!("show_label"in e||t.$$.bound[t.$$.props.show_label])&&console.warn("<InteractiveImage> was created without expected prop 'show_label'"),_===void 0&&!("streaming"in e||t.$$.bound[t.$$.props.streaming])&&console.warn("<InteractiveImage> was created without expected prop 'streaming'"),S===void 0&&!("pending"in e||t.$$.bound[t.$$.props.pending])&&console.warn("<InteractiveImage> was created without expected prop 'pending'"),y===void 0&&!("height"in e||t.$$.bound[t.$$.props.height])&&console.warn("<InteractiveImage> was created without expected prop 'height'"),W===void 0&&!("width"in e||t.$$.bound[t.$$.props.width])&&console.warn("<InteractiveImage> was created without expected prop 'width'"),D===void 0&&!("mirror_webcam"in e||t.$$.bound[t.$$.props.mirror_webcam])&&console.warn("<InteractiveImage> was created without expected prop 'mirror_webcam'"),U===void 0&&!("shape"in e||t.$$.bound[t.$$.props.shape])&&console.warn("<InteractiveImage> was created without expected prop 'shape'"),w===void 0&&!("brush_radius"in e||t.$$.bound[t.$$.props.brush_radius])&&console.warn("<InteractiveImage> was created without expected prop 'brush_radius'"),j===void 0&&!("brush_color"in e||t.$$.bound[t.$$.props.brush_color])&&console.warn("<InteractiveImage> was created without expected prop 'brush_color'"),G===void 0&&!("mask_opacity"in e||t.$$.bound[t.$$.props.mask_opacity])&&console.warn("<InteractiveImage> was created without expected prop 'mask_opacity'"),O===void 0&&!("loading_status"in e||t.$$.bound[t.$$.props.loading_status])&&console.warn("<InteractiveImage> was created without expected prop 'loading_status'"),x===void 0&&!("root"in e||t.$$.bound[t.$$.props.root])&&console.warn("<InteractiveImage> was created without expected prop 'root'"),q===void 0&&!("gradio"in e||t.$$.bound[t.$$.props.gradio])&&console.warn("<InteractiveImage> was created without expected prop 'gradio'")});const de=["elem_id","elem_classes","visible","value","source","tool","label","show_label","streaming","pending","height","width","mirror_webcam","shape","brush_radius","brush_color","mask_opacity","selectable","container","scale","min_width","loading_status","root","gradio"];Object.keys(e).forEach(h=>{!~de.indexOf(h)&&h.slice(0,2)!=="$$"&&h!=="slot"&&console.warn(`<InteractiveImage> was created with unknown prop '${h}'`)});function he(h){r=h,n(0,r)}const _e=()=>q.dispatch("edit"),Q=()=>q.dispatch("clear"),V=()=>q.dispatch("stream"),ae=({detail:h})=>n(24,le=h),ue=()=>q.dispatch("upload"),Y=({detail:h})=>q.dispatch("select",h),Ie=({detail:h})=>q.dispatch("share",h),je=({detail:h})=>{n(1,O=O||{}),n(1,O.status="error",O),q.dispatch("error",h)};return t.$$set=h=>{"elem_id"in h&&n(2,o=h.elem_id),"elem_classes"in h&&n(3,s=h.elem_classes),"visible"in h&&n(4,c=h.visible),"value"in h&&n(0,r=h.value),"source"in h&&n(5,l=h.source),"tool"in h&&n(6,a=h.tool),"label"in h&&n(7,f=h.label),"show_label"in h&&n(8,d=h.show_label),"streaming"in h&&n(9,_=h.streaming),"pending"in h&&n(10,S=h.pending),"height"in h&&n(11,y=h.height),"width"in h&&n(12,W=h.width),"mirror_webcam"in h&&n(13,D=h.mirror_webcam),"shape"in h&&n(14,U=h.shape),"brush_radius"in h&&n(15,w=h.brush_radius),"brush_color"in h&&n(16,j=h.brush_color),"mask_opacity"in h&&n(17,G=h.mask_opacity),"selectable"in h&&n(18,J=h.selectable),"container"in h&&n(19,K=h.container),"scale"in h&&n(20,g=h.scale),"min_width"in h&&n(21,N=h.min_width),"loading_status"in h&&n(1,O=h.loading_status),"root"in h&&n(22,x=h.root),"gradio"in h&&n(23,q=h.gradio)},t.$capture_state=()=>({Image:Ot,Block:ft,_:Ee,StatusTracker:it,UploadText:gt,elem_id:o,elem_classes:s,visible:c,value:r,source:l,tool:a,label:f,show_label:d,streaming:_,pending:S,height:y,width:W,mirror_webcam:D,shape:U,brush_radius:w,brush_color:j,mask_opacity:G,selectable:J,container:K,scale:g,min_width:N,loading_status:O,root:x,gradio:q,dragging:le,FIXED_HEIGHT:$e}),t.$inject_state=h=>{"elem_id"in h&&n(2,o=h.elem_id),"elem_classes"in h&&n(3,s=h.elem_classes),"visible"in h&&n(4,c=h.visible),"value"in h&&n(0,r=h.value),"source"in h&&n(5,l=h.source),"tool"in h&&n(6,a=h.tool),"label"in h&&n(7,f=h.label),"show_label"in h&&n(8,d=h.show_label),"streaming"in h&&n(9,_=h.streaming),"pending"in h&&n(10,S=h.pending),"height"in h&&n(11,y=h.height),"width"in h&&n(12,W=h.width),"mirror_webcam"in h&&n(13,D=h.mirror_webcam),"shape"in h&&n(14,U=h.shape),"brush_radius"in h&&n(15,w=h.brush_radius),"brush_color"in h&&n(16,j=h.brush_color),"mask_opacity"in h&&n(17,G=h.mask_opacity),"selectable"in h&&n(18,J=h.selectable),"container"in h&&n(19,K=h.container),"scale"in h&&n(20,g=h.scale),"min_width"in h&&n(21,N=h.min_width),"loading_status"in h&&n(1,O=h.loading_status),"root"in h&&n(22,x=h.root),"gradio"in h&&n(23,q=h.gradio),"dragging"in h&&n(24,le=h.dragging)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),t.$$.update=()=>{t.$$.dirty[0]&1&&n(0,r=r||null),t.$$.dirty[0]&8388609&&q.dispatch("change")},[r,O,o,s,c,l,a,f,d,_,S,y,W,D,U,w,j,G,J,K,g,N,x,q,le,he,_e,Q,V,ae,ue,Y,Ie,je]}class jn extends be{constructor(e){super(e),we(this,e,Bn,xe,se,{elem_id:2,elem_classes:3,visible:4,value:0,source:5,tool:6,label:7,show_label:8,streaming:9,pending:10,height:11,width:12,mirror_webcam:13,shape:14,brush_radius:15,brush_color:16,mask_opacity:17,selectable:18,container:19,scale:20,min_width:21,loading_status:1,root:22,gradio:23},null,[-1,-1]),v("SvelteRegisterComponent",{component:this,tagName:"InteractiveImage",options:e,id:xe.name})}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),C()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),C()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),C()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),C()}get source(){return this.$$.ctx[5]}set source(e){this.$$set({source:e}),C()}get tool(){return this.$$.ctx[6]}set tool(e){this.$$set({tool:e}),C()}get label(){return this.$$.ctx[7]}set label(e){this.$$set({label:e}),C()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),C()}get streaming(){return this.$$.ctx[9]}set streaming(e){this.$$set({streaming:e}),C()}get pending(){return this.$$.ctx[10]}set pending(e){this.$$set({pending:e}),C()}get height(){return this.$$.ctx[11]}set height(e){this.$$set({height:e}),C()}get width(){return this.$$.ctx[12]}set width(e){this.$$set({width:e}),C()}get mirror_webcam(){return this.$$.ctx[13]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),C()}get shape(){return this.$$.ctx[14]}set shape(e){this.$$set({shape:e}),C()}get brush_radius(){return this.$$.ctx[15]}set brush_radius(e){this.$$set({brush_radius:e}),C()}get brush_color(){return this.$$.ctx[16]}set brush_color(e){this.$$set({brush_color:e}),C()}get mask_opacity(){return this.$$.ctx[17]}set mask_opacity(e){this.$$set({mask_opacity:e}),C()}get selectable(){return this.$$.ctx[18]}set selectable(e){this.$$set({selectable:e}),C()}get container(){return this.$$.ctx[19]}set container(e){this.$$set({container:e}),C()}get scale(){return this.$$.ctx[20]}set scale(e){this.$$set({scale:e}),C()}get min_width(){return this.$$.ctx[21]}set min_width(e){this.$$set({min_width:e}),C()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),C()}get root(){return this.$$.ctx[22]}set root(e){this.$$set({root:e}),C()}get gradio(){return this.$$.ctx[23]}set gradio(e){this.$$set({gradio:e}),C()}}const Fn=jn;export{yt as Webcam,Fn as default};
//# sourceMappingURL=index-121a129d.js.map
