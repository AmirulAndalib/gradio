import{SvelteComponentDev as J,init as K,safe_not_equal as L,dispatch_dev as b,validate_slots as Q,svg_element as C,attr_dev as n,add_location as d,insert_dev as W,append_dev as f,noop as P,detach_dev as Y,createEventDispatcher as ve,globals as Te,element as N,space as $,text as ie,create_component as ne,src_url_equal as ee,add_render_callback as Ae,toggle_class as be,mount_component as oe,listen_dev as h,action_destroyer as Xe,prevent_default as ke,stop_propagation as qe,is_function as De,group_outros as Fe,transition_out as F,check_outros as He,transition_in as H,set_data_dev as Pe,prop_dev as Ie,destroy_component as re,run_all as ze,bubble as Ee,binding_callbacks as Ge,raf as Je}from"../../../node/dev/svelte-internal.js";import"./index-09ad131b.js";import{U as Se}from"./Undo-059ed206.js";import{l as Be}from"./Player.svelte_svelte_type_style_lang-4712a5da.js";const je="Users/peterallen/Projects/gradio/js/icons/src/Maximise.svelte";function ue(o){let e,t;const l={c:function(){e=C("svg"),t=C("path"),n(t,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),d(t,je,11,1,199),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),d(e,je,0,0,0)},l:function(r){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a){W(r,e,a),f(e,t)},p:P,i:P,o:P,d:function(r){r&&Y(e)}};return b("SvelteRegisterBlock",{block:l,id:ue.name,type:"component",source:"",ctx:o}),l}function Ke(o,e){let{$$slots:t={},$$scope:l}=e;Q("Maximise",t,[]);const i=[];return Object.keys(e).forEach(r=>{!~i.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Maximise> was created with unknown prop '${r}'`)}),[]}class Ce extends J{constructor(e){super(e),K(this,e,Ke,ue,L,{}),b("SvelteRegisterComponent",{component:this,tagName:"Maximise",options:e,id:ue.name})}}const ae="Users/peterallen/Projects/gradio/js/icons/src/Pause.svelte";function fe(o){let e,t,l;const i={c:function(){e=C("svg"),t=C("rect"),l=C("rect"),n(t,"x","6"),n(t,"y","4"),n(t,"width","4"),n(t,"height","16"),d(t,ae,11,1,199),n(l,"x","14"),n(l,"y","4"),n(l,"width","4"),n(l,"height","16"),d(l,ae,12,1,243),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),d(e,ae,0,0,0)},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,g){W(a,e,g),f(e,t),f(e,l)},p:P,i:P,o:P,d:function(a){a&&Y(e)}};return b("SvelteRegisterBlock",{block:i,id:fe.name,type:"component",source:"",ctx:o}),i}function Le(o,e){let{$$slots:t={},$$scope:l}=e;Q("Pause",t,[]);const i=[];return Object.keys(e).forEach(r=>{!~i.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Pause> was created with unknown prop '${r}'`)}),[]}class Ne extends J{constructor(e){super(e),K(this,e,Le,fe,L,{}),b("SvelteRegisterComponent",{component:this,tagName:"Pause",options:e,id:fe.name})}}const Re="Users/peterallen/Projects/gradio/js/icons/src/Play.svelte";function de(o){let e,t;const l={c:function(){e=C("svg"),t=C("polygon"),n(t,"points","5 3 19 12 5 21 5 3"),d(t,Re,11,1,199),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),d(e,Re,0,0,0)},l:function(r){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(r,a){W(r,e,a),f(e,t)},p:P,i:P,o:P,d:function(r){r&&Y(e)}};return b("SvelteRegisterBlock",{block:l,id:de.name,type:"component",source:"",ctx:o}),l}function Qe(o,e){let{$$slots:t={},$$scope:l}=e;Q("Play",t,[]);const i=[];return Object.keys(e).forEach(r=>{!~i.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Play> was created with unknown prop '${r}'`)}),[]}class Me extends J{constructor(e){super(e),K(this,e,Qe,de,L,{}),b("SvelteRegisterComponent",{component:this,tagName:"Play",options:e,id:de.name})}}const ce="Users/peterallen/Projects/gradio/js/icons/src/Video.svelte";function me(o){let e,t,l;const i={c:function(){e=C("svg"),t=C("polygon"),l=C("rect"),n(t,"points","23 7 16 12 23 17 23 7"),d(t,ce,12,1,230),n(l,"x","1"),n(l,"y","5"),n(l,"width","15"),n(l,"height","14"),n(l,"rx","2"),n(l,"ry","2"),d(l,ce,13,1,274),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"width","100%"),n(e,"height","100%"),n(e,"viewBox","0 0 24 24"),n(e,"fill","none"),n(e,"stroke","currentColor"),n(e,"stroke-width","1.5"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"class","feather feather-video"),d(e,ce,0,0,0)},l:function(a){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(a,g){W(a,e,g),f(e,t),f(e,l)},p:P,i:P,o:P,d:function(a){a&&Y(e)}};return b("SvelteRegisterBlock",{block:i,id:me.name,type:"component",source:"",ctx:o}),i}function We(o,e){let{$$slots:t={},$$scope:l}=e;Q("Video",t,[]);const i=[];return Object.keys(e).forEach(r=>{!~i.indexOf(r)&&r.slice(0,2)!=="$$"&&r!=="slot"&&console.warn(`<Video> was created with unknown prop '${r}'`)}),[]}class nt extends J{constructor(e){super(e),K(this,e,We,me,L,{}),b("SvelteRegisterComponent",{component:this,tagName:"Video",options:e,id:me.name})}}const{console:te,isNaN:Ye}=Te,M="Users/peterallen/Projects/gradio/js/video/shared/Player.svelte";function Oe(o){let e,t;e=new Ne({$$inline:!0});const l={c:function(){ne(e.$$.fragment)},m:function(r,a){oe(e,r,a),t=!0},i:function(r){t||(H(e.$$.fragment,r),t=!0)},o:function(r){F(e.$$.fragment,r),t=!1},d:function(r){re(e,r)}};return b("SvelteRegisterBlock",{block:l,id:Oe.name,type:"else",source:"(102:4) {:else}",ctx:o}),l}function Ue(o){let e,t;e=new Me({$$inline:!0});const l={c:function(){ne(e.$$.fragment)},m:function(r,a){oe(e,r,a),t=!0},i:function(r){t||(H(e.$$.fragment,r),t=!0)},o:function(r){F(e.$$.fragment,r),t=!1},d:function(r){re(e,r)}};return b("SvelteRegisterBlock",{block:l,id:Ue.name,type:"if",source:"(100:21) ",ctx:o}),l}function Ve(o){let e,t;e=new Se({$$inline:!0});const l={c:function(){ne(e.$$.fragment)},m:function(r,a){oe(e,r,a),t=!0},i:function(r){t||(H(e.$$.fragment,r),t=!0)},o:function(r){F(e.$$.fragment,r),t=!1},d:function(r){re(e,r)}};return b("SvelteRegisterBlock",{block:l,id:Ve.name,type:"if",source:"(98:4) {#if time === duration}",ctx:o}),l}function pe(o){let e,t,l,i,r,a,g=!1,O,U=!0,V,R,w,m,c,_,y,X,S,T=G(o[5])+"",I,Z,q=G(o[6])+"",z,x,E,D,s,p,j,v,se,he;function we(){cancelAnimationFrame(O),t.paused||(O=Je(we),g=!0),o[16].call(t)}const _e=[Ve,Ue,Oe],A=[];function ge(B,u){return B[5]===B[6]?0:B[7]?1:2}_=ge(o),y=A[_]=_e[_](o),j=new Ce({$$inline:!0});const ye={c:function(){e=N("div"),t=N("video"),l=N("track"),R=$(),w=N("div"),m=N("div"),c=N("span"),y.c(),X=$(),S=N("span"),I=ie(T),Z=ie(" / "),z=ie(q),x=$(),E=N("progress"),s=$(),p=N("div"),ne(j.$$.fragment),n(l,"kind","captions"),ee(l.src,i=o[1])||n(l,"src",i),l.default=!0,d(l,M,105,2,2111),ee(t.src,r=o[0])||n(t,"src",r),n(t,"preload","auto"),n(t,"data-testid",a=`${o[4]}-player`),n(t,"class","svelte-ylwcp1"),o[6]===void 0&&Ae(()=>o[17].call(t)),be(t,"mirror",o[2]),d(t,M,90,1,1852),n(c,"role","button"),n(c,"tabindex","0"),n(c,"class","icon svelte-ylwcp1"),n(c,"aria-label","play-pause-replay-button"),d(c,M,110,3,2220),n(S,"class","time svelte-ylwcp1"),d(S,M,127,3,2509),E.value=D=o[5]/o[6]||0,n(E,"class","svelte-ylwcp1"),d(E,M,132,3,2767),n(p,"role","button"),n(p,"tabindex","0"),n(p,"class","icon svelte-ylwcp1"),n(p,"aria-label","full-screen"),d(p,M,139,3,2954),n(m,"class","inner svelte-ylwcp1"),d(m,M,109,2,2197),n(w,"class","controls svelte-ylwcp1"),d(w,M,108,1,2172),n(e,"class","wrap svelte-ylwcp1"),d(e,M,89,0,1832)},l:function(u){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(u,k){W(u,e,k),f(e,t),f(t,l),o[19](t),f(e,R),f(e,w),f(w,m),f(m,c),A[_].m(c,null),f(m,X),f(m,S),f(S,I),f(S,Z),f(S,z),f(m,x),f(m,E),f(m,s),f(m,p),oe(j,p,null),v=!0,se||(he=[h(t,"click",o[10],!1,!1,!1,!1),h(t,"play",o[14],!1,!1,!1,!1),h(t,"pause",o[15],!1,!1,!1,!1),h(t,"ended",o[12],!1,!1,!1,!1),h(t,"timeupdate",we),h(t,"durationchange",o[17]),h(t,"play",o[18]),h(t,"pause",o[18]),Xe(V=Be.call(null,t,{autoplay:o[3]})),h(c,"click",o[10],!1,!1,!1,!1),h(c,"keydown",o[10],!1,!1,!1,!1),h(E,"mousemove",o[9],!1,!1,!1,!1),h(E,"touchmove",ke(o[9]),!1,!0,!1,!1),h(E,"click",qe(ke(o[11])),!1,!0,!0,!1),h(p,"click",o[13],!1,!1,!1,!1),h(p,"keypress",o[13],!1,!1,!1,!1)],se=!0)},p:function(u,[k]){(!v||k&2&&!ee(l.src,i=u[1]))&&n(l,"src",i),(!v||k&1&&!ee(t.src,r=u[0]))&&n(t,"src",r),(!v||k&16&&a!==(a=`${u[4]}-player`))&&n(t,"data-testid",a),!g&&k&32&&!Ye(u[5])&&(t.currentTime=u[5]),g=!1,k&128&&U!==(U=u[7])&&t[U?"pause":"play"](),V&&De(V.update)&&k&8&&V.update.call(null,{autoplay:u[3]}),(!v||k&4)&&be(t,"mirror",u[2]);let le=_;_=ge(u),_!==le&&(Fe(),F(A[le],1,1,()=>{A[le]=null}),He(),y=A[_],y||(y=A[_]=_e[_](u),y.c()),H(y,1),y.m(c,null)),(!v||k&32)&&T!==(T=G(u[5])+"")&&Pe(I,T),(!v||k&64)&&q!==(q=G(u[6])+"")&&Pe(z,q),(!v||k&96&&D!==(D=u[5]/u[6]||0))&&Ie(E,"value",D)},i:function(u){v||(H(y),H(j.$$.fragment,u),v=!0)},o:function(u){F(y),F(j.$$.fragment,u),v=!1},d:function(u){u&&Y(e),o[19](null),A[_].d(),re(j),se=!1,ze(he)}};return b("SvelteRegisterBlock",{block:ye,id:pe.name,type:"component",source:"",ctx:o}),ye}function G(o){if(isNaN(o)||!isFinite(o))return"...";const e=Math.floor(o/60);let t=Math.floor(o%60);return t<10&&(t=`0${t}`),`${e}:${t}`}function Ze(o,e,t){let{$$slots:l={},$$scope:i}=e;Q("Player",l,[]);let{src:r}=e,{subtitle:a=null}=e,{mirror:g}=e,{autoplay:O}=e,{label:U="test"}=e;const V=ve();let R=0,w,m=!0,c;function _(s){if(!w)return;if(s.type==="click"){X(s);return}if(s.type!=="touchmove"&&!(s.buttons&1))return;const p=s.type==="touchmove"?s.touches[0].clientX:s.clientX,{left:j,right:v}=s.currentTarget.getBoundingClientRect();t(5,R=w*(p-j)/(v-j))}async function y(){document.fullscreenElement!=c&&(c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>c.HAVE_CURRENT_DATA?c.pause():await c.play())}function X(s){const{left:p,right:j}=s.currentTarget.getBoundingClientRect();t(5,R=w*(s.clientX-p)/(j-p))}function S(){V("stop"),V("end")}function T(){c.requestFullscreen()}o.$$.on_mount.push(function(){r===void 0&&!("src"in e||o.$$.bound[o.$$.props.src])&&te.warn("<Player> was created without expected prop 'src'"),g===void 0&&!("mirror"in e||o.$$.bound[o.$$.props.mirror])&&te.warn("<Player> was created without expected prop 'mirror'"),O===void 0&&!("autoplay"in e||o.$$.bound[o.$$.props.autoplay])&&te.warn("<Player> was created without expected prop 'autoplay'")});const I=["src","subtitle","mirror","autoplay","label"];Object.keys(e).forEach(s=>{!~I.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&te.warn(`<Player> was created with unknown prop '${s}'`)});function Z(s){Ee.call(this,o,s)}function q(s){Ee.call(this,o,s)}function z(){R=this.currentTime,t(5,R)}function x(){w=this.duration,t(6,w)}function E(){m=this.paused,t(7,m)}function D(s){Ge[s?"unshift":"push"](()=>{c=s,t(8,c)})}return o.$$set=s=>{"src"in s&&t(0,r=s.src),"subtitle"in s&&t(1,a=s.subtitle),"mirror"in s&&t(2,g=s.mirror),"autoplay"in s&&t(3,O=s.autoplay),"label"in s&&t(4,U=s.label)},o.$capture_state=()=>({createEventDispatcher:ve,Play:Me,Pause:Ne,Maximise:Ce,Undo:Se,loaded:Be,src:r,subtitle:a,mirror:g,autoplay:O,label:U,dispatch:V,time:R,duration:w,paused:m,video:c,handleMove:_,play_pause:y,handle_click:X,format:G,handle_end:S,open_full_screen:T}),o.$inject_state=s=>{"src"in s&&t(0,r=s.src),"subtitle"in s&&t(1,a=s.subtitle),"mirror"in s&&t(2,g=s.mirror),"autoplay"in s&&t(3,O=s.autoplay),"label"in s&&t(4,U=s.label),"time"in s&&t(5,R=s.time),"duration"in s&&t(6,w=s.duration),"paused"in s&&t(7,m=s.paused),"video"in s&&t(8,c=s.video)},e&&"$$inject"in e&&o.$inject_state(e.$$inject),o.$$.update=()=>{o.$$.dirty&1&&(console.log("In player"),console.log(r))},console.log("In Player"),[r,a,g,O,U,R,w,m,c,_,y,X,S,T,Z,q,z,x,E,D]}class ot extends J{constructor(e){super(e),K(this,e,Ze,pe,L,{src:0,subtitle:1,mirror:2,autoplay:3,label:4}),b("SvelteRegisterComponent",{component:this,tagName:"Player",options:e,id:pe.name})}get src(){throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set src(e){throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get subtitle(){throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set subtitle(e){throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get mirror(){throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set mirror(e){throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get autoplay(){throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set autoplay(e){throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<Player>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<Player>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{ot as P,nt as V};
//# sourceMappingURL=Player-ca6ccf2e.js.map
