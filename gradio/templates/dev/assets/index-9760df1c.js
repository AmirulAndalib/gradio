import{SvelteComponentDev as V,init as G,safe_not_equal as H,dispatch_dev as S,validate_store as ue,component_subscribe as de,validate_slots as K,onMount as q,create_component as E,space as T,empty as Q,mount_component as k,insert_dev as B,transition_in as g,group_outros as W,transition_out as v,check_outros as Z,detach_dev as R,destroy_component as P,binding_callbacks as me,element as O,attr_dev as y,add_location as N,append_dev as z,assign as fe,get_spread_update as we,get_spread_object as _e}from"../../../node/dev/svelte-internal.js";import{X as A,S as x}from"./index-168e7816.js";import{B as $,n as J}from"./Button-e33227ec.js";import{B as F}from"./BlockLabel-2ee7f826.js";import{E as ee}from"./Empty-fa07e7fd.js";import{F as j}from"./File-3d274546.js";import{I as te}from"./IconButton-f58f3320.js";import{D as oe}from"./Download-39664f40.js";import{b as he,a as C,B as be,c as ge}from"./babylonjs.loaders.min-29b6b34c.js";const I="Users/peterallen/Projects/gradio/js/model3D/static/Model3D.svelte";function U(n){let e,t,c,r,o,a,i,l,m;r=new te({props:{Icon:oe,label:n[4]("common.download")},$$inline:!0});const w={c:function(){e=O("div"),t=O("div"),c=O("a"),E(r.$$.fragment),i=T(),l=O("canvas"),y(c,"href",o=n[0].data),y(c,"target",window.__is_colab__?"_blank":null),y(c,"download",a=window.__is_colab__?null:n[0].orig_name||n[0].name),N(c,I,93,3,2075),y(t,"class","download svelte-vb87yy"),N(t,I,92,2,2049),y(l,"class","svelte-vb87yy"),N(l,I,102,2,2315),y(e,"class","model3D svelte-vb87yy"),N(e,I,91,1,2025)},m:function(_,f){B(_,e,f),z(e,t),z(t,c),k(r,c,null),z(e,i),z(e,l),n[9](l),m=!0},p:function(_,f){const d={};f&16&&(d.label=_[4]("common.download")),r.$set(d),(!m||f&1&&o!==(o=_[0].data))&&y(c,"href",o),(!m||f&1&&a!==(a=window.__is_colab__?null:_[0].orig_name||_[0].name))&&y(c,"download",a)},i:function(_){m||(g(r.$$.fragment,_),m=!0)},o:function(_){v(r.$$.fragment,_),m=!1},d:function(_){_&&R(e),P(r),n[9](null)}};return S("SvelteRegisterBlock",{block:w,id:U.name,type:"if",source:"(68:0) {#if value}",ctx:n}),w}function X(n){let e,t,c,r;e=new F({props:{show_label:n[2],Icon:j,label:n[1]||n[4]("3D_model.3d_model")},$$inline:!0});let o=n[0]&&U(n);const a={c:function(){E(e.$$.fragment),t=T(),o&&o.c(),c=Q()},l:function(l){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(l,m){k(e,l,m),B(l,t,m),o&&o.m(l,m),B(l,c,m),r=!0},p:function(l,[m]){const w={};m&4&&(w.show_label=l[2]),m&18&&(w.label=l[1]||l[4]("3D_model.3d_model")),e.$set(w),l[0]?o?(o.p(l,m),m&1&&g(o,1)):(o=U(l),o.c(),g(o,1),o.m(c.parentNode,c)):o&&(W(),v(o,1,1,()=>{o=null}),Z())},i:function(l){r||(g(e.$$.fragment,l),g(o),r=!0)},o:function(l){v(e.$$.fragment,l),v(o),r=!1},d:function(l){l&&(R(t),R(c)),P(e,l),o&&o.d(l)}};return S("SvelteRegisterBlock",{block:a,id:X.name,type:"component",source:"",ctx:n}),a}function ve(n,e,t){let c,r,o;ue(A,"_"),de(n,A,u=>t(4,o=u));let{$$slots:a={},$$scope:i}=e;K("Model3D",a,[]);let{value:l}=e,{clearColor:m=[0,0,0,0]}=e,{label:w=""}=e,{show_label:h}=e;he.OBJFileLoader.IMPORT_VERTEX_COLORS=!0;let _,f,d,b=!1;q(()=>{d=new C.Engine(_,!0),window.addEventListener("resize",()=>{d?.resize()}),t(6,b=!0)});function M(){f&&!f.isDisposed&&(f.dispose(),d?.stopRenderLoop(),d?.dispose(),d=null,d=new C.Engine(_,!0),window.addEventListener("resize",()=>{d?.resize()})),p()}function p(){if(f=new C.Scene(d),f.createDefaultCameraOrLight(),f.clearColor=new C.Color4(...m),d?.runRenderLoop(()=>{f.render()}),!l)return;let u;if(l.is_file)u=l.data;else{let s=l.data,ie=C.Tools.DecodeBase64(s),ae=new Blob([ie]);u=URL.createObjectURL(ae)}C.SceneLoader.ShowLoadingScreen=!1,C.SceneLoader.Append("",u,f,()=>{f.createDefaultCamera(!0,!0,!0)},void 0,void 0,"."+l.name.split(".")[1])}n.$$.on_mount.push(function(){l===void 0&&!("value"in e||n.$$.bound[n.$$.props.value])&&console.warn("<Model3D> was created without expected prop 'value'"),h===void 0&&!("show_label"in e||n.$$.bound[n.$$.props.show_label])&&console.warn("<Model3D> was created without expected prop 'show_label'")});const D=["value","clearColor","label","show_label"];Object.keys(e).forEach(u=>{!~D.indexOf(u)&&u.slice(0,2)!=="$$"&&u!=="slot"&&console.warn(`<Model3D> was created with unknown prop '${u}'`)});function L(u){me[u?"unshift":"push"](()=>{_=u,t(3,_)})}return n.$$set=u=>{"value"in u&&t(0,l=u.value),"clearColor"in u&&t(5,m=u.clearColor),"label"in u&&t(1,w=u.label),"show_label"in u&&t(2,h=u.show_label)},n.$capture_state=()=>({BlockLabel:F,IconButton:te,File:j,Download:oe,_:A,onMount:q,BABYLON:be,BABYLON_LOADERS:ge,value:l,clearColor:m,label:w,show_label:h,canvas:_,scene:f,engine:d,mounted:b,dispose:M,addNewModel:p,name:r,data:c,$_:o}),n.$inject_state=u=>{"value"in u&&t(0,l=u.value),"clearColor"in u&&t(5,m=u.clearColor),"label"in u&&t(1,w=u.label),"show_label"in u&&t(2,h=u.show_label),"canvas"in u&&t(3,_=u.canvas),"scene"in u&&(f=u.scene),"engine"in u&&(d=u.engine),"mounted"in u&&t(6,b=u.mounted),"name"in u&&t(7,r=u.name),"data"in u&&t(8,c=u.data)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&1&&t(8,{data:c,name:r}=l||{data:void 0,name:void 0},c,(t(7,r),t(0,l))),n.$$.dirty&456&&_&&b&&c!=null&&r&&M()},[l,w,h,_,o,m,b,r,c,L]}class ne extends V{constructor(e){super(e),G(this,e,ve,X,H,{value:0,clearColor:5,label:1,show_label:2}),S("SvelteRegisterComponent",{component:this,tagName:"Model3D",options:e,id:X.name})}get value(){throw new Error("<Model3D>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<Model3D>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get clearColor(){throw new Error("<Model3D>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set clearColor(e){throw new Error("<Model3D>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<Model3D>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<Model3D>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get show_label(){throw new Error("<Model3D>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show_label(e){throw new Error("<Model3D>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}function se(n){let e,t,c,r;e=new F({props:{show_label:n[7],Icon:j,label:n[6]||"3D Model"},$$inline:!0}),c=new ee({props:{unpadded_box:!0,size:"large",$$slots:{default:[re]},$$scope:{ctx:n}},$$inline:!0});const o={c:function(){E(e.$$.fragment),t=T(),E(c.$$.fragment)},m:function(i,l){k(e,i,l),B(i,t,l),k(c,i,l),r=!0},p:function(i,l){const m={};l&128&&(m.show_label=i[7]),l&64&&(m.label=i[6]||"3D Model"),e.$set(m);const w={};l&32768&&(w.$$scope={dirty:l,ctx:i}),c.$set(w)},i:function(i){r||(g(e.$$.fragment,i),g(c.$$.fragment,i),r=!0)},o:function(i){v(e.$$.fragment,i),v(c.$$.fragment,i),r=!1},d:function(i){i&&R(t),P(e,i),P(c,i)}};return S("SvelteRegisterBlock",{block:o,id:se.name,type:"else",source:"(40:1) {:else}",ctx:n}),o}function le(n){let e,t;e=new ne({props:{value:n[11],clearColor:n[4],label:n[6],show_label:n[7]},$$inline:!0});const c={c:function(){E(e.$$.fragment)},m:function(o,a){k(e,o,a),t=!0},p:function(o,a){const i={};a&2048&&(i.value=o[11]),a&16&&(i.clearColor=o[4]),a&64&&(i.label=o[6]),a&128&&(i.show_label=o[7]),e.$set(i)},i:function(o){t||(g(e.$$.fragment,o),t=!0)},o:function(o){v(e.$$.fragment,o),t=!1},d:function(o){P(e,o)}};return S("SvelteRegisterBlock",{block:c,id:le.name,type:"if",source:"(38:1) {#if value}",ctx:n}),c}function re(n){let e,t;e=new j({$$inline:!0});const c={c:function(){E(e.$$.fragment)},m:function(o,a){k(e,o,a),t=!0},i:function(o){t||(g(e.$$.fragment,o),t=!0)},o:function(o){v(e.$$.fragment,o),t=!1},d:function(o){P(e,o)}};return S("SvelteRegisterBlock",{block:c,id:re.name,type:"slot",source:'(46:2) <Empty unpadded_box={true} size=\\"large\\">',ctx:n}),c}function ce(n){let e,t,c,r,o,a;const i=[n[5]];let l={};for(let f=0;f<i.length;f+=1)l=fe(l,i[f]);e=new x({props:l,$$inline:!0});const m=[le,se],w=[];function h(f,d){return f[3]?0:1}c=h(n),r=w[c]=m[c](n);const _={c:function(){E(e.$$.fragment),t=T(),r.c(),o=Q()},m:function(d,b){k(e,d,b),B(d,t,b),w[c].m(d,b),B(d,o,b),a=!0},p:function(d,b){const M=b&32?we(i,[_e(d[5])]):{};e.$set(M);let p=c;c=h(d),c===p?w[c].p(d,b):(W(),v(w[p],1,1,()=>{w[p]=null}),Z(),r=w[c],r?r.p(d,b):(r=w[c]=m[c](d),r.c()),g(r,1),r.m(o.parentNode,o))},i:function(d){a||(g(e.$$.fragment,d),g(r),a=!0)},o:function(d){v(e.$$.fragment,d),v(r),a=!1},d:function(d){d&&(R(t),R(o)),P(e,d),w[c].d(d)}};return S("SvelteRegisterBlock",{block:_,id:ce.name,type:"slot",source:'(25:0) <Block  {visible}  variant={value === null ? \\"dashed\\" : \\"solid\\"}  border_mode={dragging ? \\"focus\\" : \\"base\\"}  padding={false}  {elem_id}  {elem_classes}  {container}  {scale}  {min_width} >',ctx:n}),_}function Y(n){let e,t;e=new $({props:{visible:n[2],variant:n[3]===null?"dashed":"solid",border_mode:n[12]?"focus":"base",padding:!1,elem_id:n[0],elem_classes:n[1],container:n[8],scale:n[9],min_width:n[10],$$slots:{default:[ce]},$$scope:{ctx:n}},$$inline:!0});const c={c:function(){E(e.$$.fragment)},l:function(o){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,a){k(e,o,a),t=!0},p:function(o,[a]){const i={};a&4&&(i.visible=o[2]),a&8&&(i.variant=o[3]===null?"dashed":"solid"),a&1&&(i.elem_id=o[0]),a&2&&(i.elem_classes=o[1]),a&256&&(i.container=o[8]),a&512&&(i.scale=o[9]),a&1024&&(i.min_width=o[10]),a&35064&&(i.$$scope={dirty:a,ctx:o}),e.$set(i)},i:function(o){t||(g(e.$$.fragment,o),t=!0)},o:function(o){v(e.$$.fragment,o),t=!1},d:function(o){P(e,o)}};return S("SvelteRegisterBlock",{block:c,id:Y.name,type:"component",source:"",ctx:n}),c}function pe(n,e,t){let{$$slots:c={},$$scope:r}=e;K("StaticModel3d",c,[]);let{elem_id:o=""}=e,{elem_classes:a=[]}=e,{visible:i=!0}=e,{value:l=null}=e,{root:m}=e,{root_url:w}=e,{clearColor:h}=e,{loading_status:_}=e,{label:f}=e,{show_label:d}=e,{container:b=!0}=e,{scale:M=null}=e,{min_width:p=void 0}=e,D,L=!1;n.$$.on_mount.push(function(){m===void 0&&!("root"in e||n.$$.bound[n.$$.props.root])&&console.warn("<StaticModel3d> was created without expected prop 'root'"),w===void 0&&!("root_url"in e||n.$$.bound[n.$$.props.root_url])&&console.warn("<StaticModel3d> was created without expected prop 'root_url'"),h===void 0&&!("clearColor"in e||n.$$.bound[n.$$.props.clearColor])&&console.warn("<StaticModel3d> was created without expected prop 'clearColor'"),_===void 0&&!("loading_status"in e||n.$$.bound[n.$$.props.loading_status])&&console.warn("<StaticModel3d> was created without expected prop 'loading_status'"),f===void 0&&!("label"in e||n.$$.bound[n.$$.props.label])&&console.warn("<StaticModel3d> was created without expected prop 'label'"),d===void 0&&!("show_label"in e||n.$$.bound[n.$$.props.show_label])&&console.warn("<StaticModel3d> was created without expected prop 'show_label'")});const u=["elem_id","elem_classes","visible","value","root","root_url","clearColor","loading_status","label","show_label","container","scale","min_width"];return Object.keys(e).forEach(s=>{!~u.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<StaticModel3d> was created with unknown prop '${s}'`)}),n.$$set=s=>{"elem_id"in s&&t(0,o=s.elem_id),"elem_classes"in s&&t(1,a=s.elem_classes),"visible"in s&&t(2,i=s.visible),"value"in s&&t(3,l=s.value),"root"in s&&t(13,m=s.root),"root_url"in s&&t(14,w=s.root_url),"clearColor"in s&&t(4,h=s.clearColor),"loading_status"in s&&t(5,_=s.loading_status),"label"in s&&t(6,f=s.label),"show_label"in s&&t(7,d=s.show_label),"container"in s&&t(8,b=s.container),"scale"in s&&t(9,M=s.scale),"min_width"in s&&t(10,p=s.min_width)},n.$capture_state=()=>({normalise_file:J,Model3D:ne,BlockLabel:F,Block:$,Empty:ee,File:j,StatusTracker:x,_:A,elem_id:o,elem_classes:a,visible:i,value:l,root:m,root_url:w,clearColor:h,loading_status:_,label:f,show_label:d,container:b,scale:M,min_width:p,_value:D,dragging:L}),n.$inject_state=s=>{"elem_id"in s&&t(0,o=s.elem_id),"elem_classes"in s&&t(1,a=s.elem_classes),"visible"in s&&t(2,i=s.visible),"value"in s&&t(3,l=s.value),"root"in s&&t(13,m=s.root),"root_url"in s&&t(14,w=s.root_url),"clearColor"in s&&t(4,h=s.clearColor),"loading_status"in s&&t(5,_=s.loading_status),"label"in s&&t(6,f=s.label),"show_label"in s&&t(7,d=s.show_label),"container"in s&&t(8,b=s.container),"scale"in s&&t(9,M=s.scale),"min_width"in s&&t(10,p=s.min_width),"_value"in s&&t(11,D=s._value),"dragging"in s&&t(12,L=s.dragging)},e&&"$$inject"in e&&n.$inject_state(e.$$inject),n.$$.update=()=>{n.$$.dirty&24584&&t(11,D=J(l,m,w))},[o,a,i,l,h,_,f,d,b,M,p,D,L,m,w]}class Me extends V{constructor(e){super(e),G(this,e,pe,Y,H,{elem_id:0,elem_classes:1,visible:2,value:3,root:13,root_url:14,clearColor:4,loading_status:5,label:6,show_label:7,container:8,scale:9,min_width:10}),S("SvelteRegisterComponent",{component:this,tagName:"StaticModel3d",options:e,id:Y.name})}get elem_id(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set elem_id(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get elem_classes(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set elem_classes(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get visible(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set visible(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get value(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get root(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set root(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get root_url(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set root_url(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get clearColor(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set clearColor(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get loading_status(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set loading_status(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get label(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set label(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get show_label(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set show_label(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get container(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set container(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get scale(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set scale(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get min_width(){throw new Error("<StaticModel3d>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set min_width(e){throw new Error("<StaticModel3d>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}const Le=Me;export{Le as default};
//# sourceMappingURL=index-9760df1c.js.map
