import{SvelteComponentDev as T,init as U,safe_not_equal as X,dispatch_dev as y,ensure_array_like_dev as R,validate_store as J,component_subscribe as L,validate_slots as Q,createEventDispatcher as O,element as v,attr_dev as d,add_location as m,set_style as C,insert_dev as P,append_dev as h,noop as D,detach_dev as k,destroy_each as V,text as S,space as G,toggle_class as H,listen_dev as W,set_data_dev as K,HtmlTag as Y}from"../../../node/dev/svelte-internal.js";import{X as B}from"./index-168e7816.js";const Z=t=>{let e=["B","KB","MB","GB","PB"],n=0;for(;t>1024;)t/=1024,n++;let i=e[n];return t.toFixed(1)+"&nbsp;"+i},E=t=>{var e;e=t.orig_name||t.name;const n=30;if(e.length>n){const i=e.substring(0,n),a=e.lastIndexOf(".");if(a!==-1){const o=e.slice(a);return`${i}..${o}`}return i}return e},q=t=>{var e=0;if(Array.isArray(t))for(var n of t)n.size!==void 0&&(e+=n.size);else e=t.size||0;return Z(e)};const g="Users/peterallen/Projects/gradio/js/file/shared/FilePreview.svelte";function I(t,e,n){const i=t.slice();return i[6]=e[n],i[8]=n,i}function M(t){let e=t[3]("file.uploading")+"",n;const i={c:function(){n=S(e)},m:function(o,c){P(o,n,c)},p:function(o,c){c&8&&e!==(e=o[3]("file.uploading")+"")&&K(n,e)},d:function(o){o&&k(n)}};return y("SvelteRegisterBlock",{block:i,id:M.name,type:"else",source:"(41:6) {:else}",ctx:t}),i}function N(t){let e,n,i=q(t[6])+"",a,o,c;const f={c:function(){e=v("a"),n=new Y(!1),a=S(" ⇣"),n.a=a,d(e,"href",o=t[6].data),d(e,"target","_blank"),d(e,"download",c=window.__is_colab__?null:t[6].orig_name||t[6].name),d(e,"class","svelte-usqupg"),m(e,g,37,7,791)},m:function(u,r){P(u,e,r),n.m(i,e),h(e,a)},p:function(u,r){r&1&&i!==(i=q(u[6])+"")&&n.p(i),r&1&&o!==(o=u[6].data)&&d(e,"href",o),r&1&&c!==(c=window.__is_colab__?null:u[6].orig_name||u[6].name)&&d(e,"download",c)},d:function(u){u&&k(e)}};return y("SvelteRegisterBlock",{block:f,id:N.name,type:"if",source:"(31:6) {#if file.data}",ctx:t}),f}function A(t){let e,n,i=E(t[6])+"",a,o,c,f,s,u;function r(w,p){return w[6].data?N:M}let _=r(t),l=_(t);function F(){return t[5](t[6],t[8])}const z={c:function(){e=v("tr"),n=v("td"),a=S(i),o=G(),c=v("td"),l.c(),f=G(),d(n,"class","svelte-usqupg"),m(n,g,31,5,686),d(c,"class","download svelte-usqupg"),m(c,g,35,5,740),d(e,"class","file svelte-usqupg"),H(e,"selectable",t[1]),m(e,g,22,4,514)},m:function(p,b){P(p,e,b),h(e,n),h(n,a),h(e,o),h(e,c),l.m(c,null),h(e,f),s||(u=W(e,"click",F,!1,!1,!1,!1),s=!0)},p:function(p,b){t=p,b&1&&i!==(i=E(t[6])+"")&&K(a,i),_===(_=r(t))&&l?l.p(t,b):(l.d(1),l=_(t),l&&(l.c(),l.m(c,null))),b&2&&H(e,"selectable",t[1])},d:function(p){p&&k(e),l.d(),s=!1,u()}};return y("SvelteRegisterBlock",{block:z,id:A.name,type:"each",source:"(16:3) {#each Array.isArray(value) ? value : [value] as file, i}",ctx:t}),z}function j(t){let e,n,i,a=R(Array.isArray(t[0])?t[0]:[t[0]]),o=[];for(let f=0;f<a.length;f+=1)o[f]=A(I(t,a,f));const c={c:function(){e=v("div"),n=v("table"),i=v("tbody");for(let s=0;s<o.length;s+=1)o[s].c();d(i,"class","svelte-usqupg"),m(i,g,20,2,441),d(n,"class","file-preview svelte-usqupg"),m(n,g,19,1,410),d(e,"class","file-preview-holder svelte-usqupg"),C(e,"max-height",typeof t[2]===void 0?"auto":t[2]+"px"),m(e,g,15,0,296)},l:function(s){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(s,u){P(s,e,u),h(e,n),h(n,i);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(i,null)},p:function(s,[u]){if(u&27){a=R(Array.isArray(s[0])?s[0]:[s[0]]);let r;for(r=0;r<a.length;r+=1){const _=I(s,a,r);o[r]?o[r].p(_,u):(o[r]=A(_),o[r].c(),o[r].m(i,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=a.length}u&4&&C(e,"max-height",typeof s[2]===void 0?"auto":s[2]+"px")},i:D,o:D,d:function(s){s&&k(e),V(o,s)}};return y("SvelteRegisterBlock",{block:c,id:j.name,type:"component",source:"",ctx:t}),c}function x(t,e,n){let i;J(B,"_"),L(t,B,l=>n(3,i=l));let{$$slots:a={},$$scope:o}=e;Q("FilePreview",a,[]);const c=O();let{value:f}=e,{selectable:s=!1}=e,{height:u=void 0}=e;t.$$.on_mount.push(function(){f===void 0&&!("value"in e||t.$$.bound[t.$$.props.value])&&console.warn("<FilePreview> was created without expected prop 'value'")});const r=["value","selectable","height"];Object.keys(e).forEach(l=>{!~r.indexOf(l)&&l.slice(0,2)!=="$$"&&l!=="slot"&&console.warn(`<FilePreview> was created with unknown prop '${l}'`)});const _=(l,F)=>c("select",{value:l.orig_name||l.name,index:F});return t.$$set=l=>{"value"in l&&n(0,f=l.value),"selectable"in l&&n(1,s=l.selectable),"height"in l&&n(2,u=l.height)},t.$capture_state=()=>({display_file_name:E,display_file_size:q,createEventDispatcher:O,_:B,dispatch:c,value:f,selectable:s,height:u,$_:i}),t.$inject_state=l=>{"value"in l&&n(0,f=l.value),"selectable"in l&&n(1,s=l.selectable),"height"in l&&n(2,u=l.height)},e&&"$$inject"in e&&t.$inject_state(e.$$inject),[f,s,u,i,c,_]}class te extends T{constructor(e){super(e),U(this,e,x,j,X,{value:0,selectable:1,height:2}),y("SvelteRegisterComponent",{component:this,tagName:"FilePreview",options:e,id:j.name})}get value(){throw new Error("<FilePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set value(e){throw new Error("<FilePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get selectable(){throw new Error("<FilePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set selectable(e){throw new Error("<FilePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get height(){throw new Error("<FilePreview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set height(e){throw new Error("<FilePreview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{te as F};
//# sourceMappingURL=FilePreview-a100987d.js.map
